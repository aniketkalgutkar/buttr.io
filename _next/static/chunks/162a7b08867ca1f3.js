(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15404,(e,t,r)=>{var s={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],s=t[1];return(r+s)*3/4-s},t.toByteArray=function(e){var t,r,n=l(e),a=n[0],o=n[1],h=new i((a+o)*3/4-o),u=0,c=o>0?a-4:a;for(r=0;r<c;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],h[u++]=t>>16&255,h[u++]=t>>8&255,h[u++]=255&t;return 2===o&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,h[u++]=255&t),1===o&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,h[u++]=t>>8&255,h[u++]=255&t),h},t.fromByteArray=function(e){for(var t,s=e.length,i=s%3,n=[],a=0,o=s-i;a<o;a+=16383)n.push(function(e,t,s){for(var i,n=[],a=t;a<s;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),n.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return n.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?n.push(r[(t=e[s-1])>>2]+r[t<<4&63]+"=="):2===i&&n.push(r[(t=(e[s-2]<<8)+e[s-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),n.join("")};for(var r=[],s=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=n.length;a<o;++a)r[a]=n[a],s[n.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var s=r===t?0:4-r%4;return[r,s]}s[45]=62,s[95]=63},72:function(e,t,r){"use strict";var s=r(675),i=r(783),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var s=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);var n=0|f(s,i),l=a(n),h=l.write(s,i);return h!==n&&(l=l.slice(0,h)),l}if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(P(e,ArrayBuffer)||e&&P(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(P(e,SharedArrayBuffer)||e&&P(e.buffer,SharedArrayBuffer)))return function(e,t,r){var s;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),s}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var u=e.valueOf&&e.valueOf();if(null!=u&&u!==e)return o.from(u,t,r);var p=function(e){if(o.isBuffer(e)){var t=0|d(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return h(e),a(e<0?0:0|d(e))}function c(e){for(var t=e.length<0?0:0|d(e.length),r=a(t),s=0;s<t;s+=1)r[s]=255&e[s];return r}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(h(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||P(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(i)return s?-1:E(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,n,a,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);for(var i="",n=t;n<r;++n)i+=R[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var i=t;i<r;++i)s+=String.fromCharCode(127&e[i]);return s}(this,t,r);case"latin1":case"binary":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var i=t;i<r;++i)s+=String.fromCharCode(e[i]);return s}(this,t,r);case"base64":return i=this,n=t,a=r,0===n&&a===i.length?s.fromByteArray(i):s.fromByteArray(i.slice(n,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var s=e.slice(t,r),i="",n=0;n<s.length;n+=2)i+=String.fromCharCode(s[n]+256*s[n+1]);return i}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function g(e,t,r,s,i){var n;if(0===e.length)return -1;if("string"==typeof r?(s=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(n=r*=1)!=n&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,s)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,s,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,s,i)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,s,i){var n,a=1,o=e.length,l=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,r/=2}function h(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(n=r;n<o;n++)if(h(e,n)===h(t,-1===u?0:n-u)){if(-1===u&&(u=n),n-u+1===l)return u*a}else -1!==u&&(n-=n-u),u=-1}else for(r+l>o&&(r=o-l),n=r;n>=0;n--){for(var c=!0,d=0;d<l;d++)if(h(e,n+d)!==h(t,d)){c=!1;break}if(c)return n}return -1}o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),P(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,s=t.length,i=0,n=Math.min(r,s);i<n;++i)if(e[i]!==t[i]){r=e[i],s=t[i];break}return r<s?-1:+(s<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,s=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var n=e[r];if(P(n,Uint8Array)&&(n=o.from(n)),!o.isBuffer(n))throw TypeError('"list" argument must be an Array of Buffers');n.copy(s,i),i+=n.length}return s},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,s,i){if(P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===i&&(i=this.length),t<0||r>e.length||s<0||i>this.length)throw RangeError("out of range index");if(s>=i&&t>=r)return 0;if(s>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,s>>>=0,i>>>=0,this===e)return 0;for(var n=i-s,a=r-t,l=Math.min(n,a),h=this.slice(s,i),u=e.slice(t,r),c=0;c<l;++c)if(h[c]!==u[c]){n=h[c],a=u[c];break}return n<a?-1:+(a<n)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var s=[],i=t;i<r;){var n,a,o,l,h=e[i],u=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=r)switch(c){case 1:h<128&&(u=h);break;case 2:(192&(n=e[i+1]))==128&&(l=(31&h)<<6|63&n)>127&&(u=l);break;case 3:n=e[i+1],a=e[i+2],(192&n)==128&&(192&a)==128&&(l=(15&h)<<12|(63&n)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:n=e[i+1],a=e[i+2],o=e[i+3],(192&n)==128&&(192&a)==128&&(192&o)==128&&(l=(15&h)<<18|(63&n)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,s.push(u>>>10&1023|55296),u=56320|1023&u),s.push(u),i+=c}var d=s,f=d.length;if(f<=4096)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,d.slice(m,m+=4096));return p}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function b(e,t,r,s,i,n){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<n)throw RangeError('"value" argument is out of bounds');if(r+s>e.length)throw RangeError("Index out of range")}function x(e,t,r,s,i,n){if(r+s>e.length||r<0)throw RangeError("Index out of range")}function _(e,t,r,s,n){return t*=1,r>>>=0,n||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,s,23,4),r+4}function k(e,t,r,s,n){return t*=1,r>>>=0,n||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,s,52,8),r+8}o.prototype.write=function(e,t,r,s){if(void 0===t)s="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)s=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,n,a,o,l,h,u,c,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var f=!1;;)switch(s){case"hex":return function(e,t,r,s){r=Number(r)||0;var i=e.length-r;s?(s=Number(s))>i&&(s=i):s=i;var n=t.length;s>n/2&&(s=n/2);for(var a=0;a<s;++a){var o,l=parseInt(t.substr(2*a,2),16);if((o=l)!=o)break;e[r+a]=l}return a}(this,e,t,r);case"utf8":case"utf-8":return i=t,n=r,A(E(e,this.length-i),this,i,n);case"ascii":return a=t,o=r,A(T(e),this,a,o);case"latin1":case"binary":return function(e,t,r,s){return A(T(t),e,r,s)}(this,e,t,r);case"base64":return l=t,h=r,A(j(e),this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,c=r,A(function(e,t){for(var r,s,i=[],n=0;n<e.length&&!((t-=2)<0);++n)s=(r=e.charCodeAt(n))>>8,i.push(r%256),i.push(s);return i}(e,this.length-u),this,u,c);default:if(f)throw TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var s=this.subarray(e,t);return Object.setPrototypeOf(s,o.prototype),s},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e],i=1,n=0;++n<t&&(i*=256);)s+=this[e+n]*i;return s},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e+--t],i=1;t>0&&(i*=256);)s+=this[e+--t]*i;return s},o.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e],i=1,n=0;++n<t&&(i*=256);)s+=this[e+n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=t,i=1,n=this[e+--s];s>0&&(i*=256);)n+=this[e+--s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){var i=Math.pow(2,8*r)-1;b(this,e,t,r,i,0)}var n=1,a=0;for(this[t]=255&e;++a<r&&(n*=256);)this[t+a]=e/n&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){var i=Math.pow(2,8*r)-1;b(this,e,t,r,i,0)}var n=r-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,s){if(e*=1,t>>>=0,!s){var i=Math.pow(2,8*r-1);b(this,e,t,r,i-1,-i)}var n=0,a=1,o=0;for(this[t]=255&e;++n<r&&(a*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/a|0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,s){if(e*=1,t>>>=0,!s){var i=Math.pow(2,8*r-1);b(this,e,t,r,i-1,-i)}var n=r-1,a=1,o=0;for(this[t+n]=255&e;--n>=0&&(a*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/a|0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return _(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return _(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,s){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(s<0)throw RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);var i=s-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,s);else if(this===e&&r<t&&t<s)for(var n=i-1;n>=0;--n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,s),t);return i},o.prototype.fill=function(e,t,r,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw TypeError("encoding must be a string");if("string"==typeof s&&!o.isEncoding(s))throw TypeError("Unknown encoding: "+s);if(1===e.length){var i,n=e.charCodeAt(0);("utf8"===s&&n<128||"latin1"===s)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=o.isBuffer(e)?e:o.from(e,s),l=a.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%l]}return this};var S=/[^+/0-9A-Za-z-_]/g;function E(e,t){t=t||1/0;for(var r,s=e.length,i=null,n=[],a=0;a<s;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===s){(t-=3)>-1&&n.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&n.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return n}function T(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function j(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,r,s){for(var i=0;i<s&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var R=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var s=16*r,i=0;i<16;++i)t[s+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,s,i){var n,a,o=8*i-s-1,l=(1<<o)-1,h=l>>1,u=-7,c=r?i-1:0,d=r?-1:1,f=e[t+c];for(c+=d,n=f&(1<<-u)-1,f>>=-u,u+=o;u>0;n=256*n+e[t+c],c+=d,u-=8);for(a=n&(1<<-u)-1,n>>=-u,u+=s;u>0;a=256*a+e[t+c],c+=d,u-=8);if(0===n)n=1-h;else{if(n===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,s),n-=h}return(f?-1:1)*a*Math.pow(2,n-s)},t.write=function(e,t,r,s,i,n){var a,o,l,h=8*n-i-1,u=(1<<h)-1,c=u>>1,d=5960464477539062e-23*(23===i),f=s?0:n-1,p=s?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=d/l:t+=d*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=u?(o=0,a=u):a+c>=1?(o=(t*l-1)*Math.pow(2,i),a+=c):(o=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&o,f+=p,o/=256,i-=8);for(a=a<<i|o,h+=i;h>0;e[r+f]=255&a,f+=p,a/=256,h-=8);e[r+f-p]|=128*m}}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},a=!0;try{s[e](r,r.exports,n),a=!1}finally{a&&delete i[e]}return r.exports}n.ab="/ROOT/Desktop/Projects/buttr/website/buttr.io/node_modules/next/dist/compiled/buffer/",t.exports=n(72)},6695,e=>{"use strict";let t,r,s,i,n;var a,o,l,h,u,c,d,f,p,m,g,y,v,w,b,x,_,k,S,E,T,j,A=e.i(36343),P=e.i(78126),R=e.i(13090);let O=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],C=new Set(O),I=e=>180*e/Math.PI,N=e=>D(I(Math.atan2(e[1],e[0]))),$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:N,rotateZ:N,skewX:e=>I(Math.atan(e[1])),skewY:e=>I(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},D=e=>((e%=360)<0&&(e+=360),e),B=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),M=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),U={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B,scaleY:M,scale:e=>(B(e)+M(e))/2,rotateX:e=>D(I(Math.atan2(e[6],e[5]))),rotateY:e=>D(I(Math.atan2(-e[2],e[0]))),rotateZ:N,rotate:N,skewX:e=>I(Math.atan(e[4])),skewY:e=>I(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function L(e){return+!!e.includes("scale")}function V(e,t){let r,s;if(!e||"none"===e)return L(t);let i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(i)r=U,s=i;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$,s=t}if(!s)return L(t);let n=r[t],a=s[1].split(",").map(F);return"function"==typeof n?n(a):a[n]}function F(e){return parseFloat(e.trim())}let W=e=>t=>"string"==typeof t&&t.startsWith(e),q=W("--"),z=W("var(--"),K=e=>!!z(e)&&H.test(e.split("/*")[0].trim()),H=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function G({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}let J=(e,t,r)=>e+(t-e)*r;function Y(e){return void 0===e||1===e}function X({scale:e,scaleX:t,scaleY:r}){return!Y(e)||!Y(t)||!Y(r)}function Z(e){return X(e)||Q(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Q(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function ee(e,t,r,s,i){return void 0!==i&&(e=s+i*(e-s)),s+r*(e-s)+t}function et(e,t=0,r=1,s,i){e.min=ee(e.min,t,r,s,i),e.max=ee(e.max,t,r,s,i)}function er(e,{x:t,y:r}){et(e.x,t.translate,t.scale,t.originPoint),et(e.y,r.translate,r.scale,r.originPoint)}function es(e,t){e.min=e.min+t,e.max=e.max+t}function ei(e,t,r,s,i=.5){let n=J(e.min,e.max,i);et(e,t,r,n,s)}function en(e,t){ei(e.x,t.x,t.scaleX,t.scale,t.originX),ei(e.y,t.y,t.scaleY,t.scale,t.originY)}function ea(e,t){return G(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}let eo=new Set(["width","height","top","left","right","bottom",...O]),el=(e,t,r)=>r>t?t:r<e?e:r,eh={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},eu={...eh,transform:e=>el(0,1,e)},ec={...eh,default:1},ed=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ef=ed("deg"),ep=ed("%"),em=ed("px"),eg=ed("vh"),ey=ed("vw"),ev={...ep,parse:e=>ep.parse(e)/100,transform:e=>ep.transform(100*e)},ew=e=>t=>t.test(e),eb=[eh,em,ep,ef,ey,eg,{test:e=>"auto"===e,parse:e=>e}],ex=e=>eb.find(ew(e));var e_=e.i(70516);let ek=()=>{},eS=()=>{},eE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,eT=e=>e===eh||e===em,ej=new Set(["x","y","z"]),eA=O.filter(e=>!ej.has(e)),eP={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>V(t,"x"),y:(e,{transform:t})=>V(t,"y")};eP.translateX=eP.x,eP.translateY=eP.y;let eR=e=>e,eO={},eC=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eI(e,t){let r=!1,s=!0,i={delta:0,timestamp:0,isProcessing:!1},n=()=>r=!0,a=eC.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,s=new Set,i=!1,n=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function h(t){a.has(t)&&(u.schedule(t),e()),l++,t(o)}let u={schedule:(e,t=!1,n=!1)=>{let o=n&&i?r:s;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),a.delete(e)},process:e=>{if(o=e,i){n=!0;return}i=!0,[r,s]=[s,r],r.forEach(h),t,l=0,r.clear(),i=!1,n&&(n=!1,u.process(e))}};return u}(n,t?r:void 0),e),{}),{setup:o,read:l,resolveKeyframes:h,preUpdate:u,update:c,preRender:d,render:f,postRender:p}=a,m=()=>{let n=eO.useManualTiming?i.timestamp:performance.now();r=!1,eO.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(n-i.timestamp,40),1)),i.timestamp=n,i.isProcessing=!0,o.process(i),l.process(i),h.process(i),u.process(i),c.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,r&&t&&(s=!1,e(m))};return{schedule:eC.reduce((t,n)=>{let o=a[n];return t[n]=(t,n=!1,a=!1)=>(!r&&(r=!0,s=!0,i.isProcessing||e(m)),o.schedule(t,n,a)),t},{}),cancel:e=>{for(let t=0;t<eC.length;t++)a[eC[t]].cancel(e)},state:i,steps:a}}let{schedule:eN,cancel:e$,state:eD,steps:eB}=eI("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:eR,!0),eM=new Set,eU=!1,eL=!1,eV=!1;function eF(){if(eL){let e=Array.from(eM).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t,s=(t=[],eA.forEach(r=>{let s=e.getValue(r);void 0!==s&&(t.push([r,s.get()]),s.set(+!!r.startsWith("scale")))}),t);s.length&&(r.set(e,s),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}eL=!1,eU=!1,eM.forEach(e=>e.complete(eV)),eM.clear()}function eW(){eM.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eL=!0)})}class eq{constructor(e,t,r,s,i,n=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=i,this.isAsync=n}scheduleResolve(){this.state="scheduled",this.isAsync?(eM.add(this),eU||(eU=!0,eN.read(eW),eN.resolveKeyframes(eF))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(null===e[0]){let i=s?.get(),n=e[e.length-1];if(void 0!==i)e[0]=i;else if(r&&t){let s=r.readValue(t,n);null!=s&&(e[0]=s)}void 0===e[0]&&(e[0]=n),s&&void 0===i&&s.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eM.delete(this)}cancel(){"scheduled"===this.state&&(eM.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let ez=e=>Math.round(1e5*e)/1e5,eK=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,eH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eG=(e,t)=>r=>!!("string"==typeof r&&eH.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),eJ=(e,t,r)=>s=>{if("string"!=typeof s)return s;let[i,n,a,o]=s.match(eK);return{[e]:parseFloat(i),[t]:parseFloat(n),[r]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},eY={...eh,transform:e=>Math.round(el(0,255,e))},eX={test:eG("rgb","red"),parse:eJ("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+eY.transform(e)+", "+eY.transform(t)+", "+eY.transform(r)+", "+ez(eu.transform(s))+")"},eZ={test:eG("#"),parse:function(e){let t="",r="",s="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}},transform:eX.transform},eQ={test:eG("hsl","hue"),parse:eJ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+ep.transform(ez(t))+", "+ep.transform(ez(r))+", "+ez(eu.transform(s))+")"},e0={test:e=>eX.test(e)||eZ.test(e)||eQ.test(e),parse:e=>eX.test(e)?eX.parse(e):eQ.test(e)?eQ.parse(e):eZ.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?eX.transform(e):eQ.transform(e),getAnimatableNone:e=>{let t=e0.parse(e);return t.alpha=0,e0.transform(t)}},e1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,e2="number",e5="color",e3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function e4(e){let t=e.toString(),r=[],s={color:[],number:[],var:[]},i=[],n=0,a=t.replace(e3,e=>(e0.test(e)?(s.color.push(n),i.push(e5),r.push(e0.parse(e))):e.startsWith("var(")?(s.var.push(n),i.push("var"),r.push(e)):(s.number.push(n),i.push(e2),r.push(parseFloat(e))),++n,"${}")).split("${}");return{values:r,split:a,indexes:s,types:i}}function e6(e){return e4(e).values}function e8(e){let{split:t,types:r}=e4(e),s=t.length;return e=>{let i="";for(let n=0;n<s;n++)if(i+=t[n],void 0!==e[n]){let t=r[n];t===e2?i+=ez(e[n]):t===e5?i+=e0.transform(e[n]):i+=e[n]}return i}}let e9=e=>"number"==typeof e?0:e0.test(e)?e0.getAnimatableNone(e):e,e7={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(eK)?.length||0)+(e.match(e1)?.length||0)>0},parse:e6,createTransformer:e8,getAnimatableNone:function(e){let t=e6(e);return e8(e)(t.map(e9))}},te=new Set(["brightness","contrast","saturate","opacity"]);function tt(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[s]=r.match(eK)||[];if(!s)return e;let i=r.replace(s,""),n=+!!te.has(t);return s!==r&&(n*=100),t+"("+n+i+")"}let tr=/\b([a-z-]*)\(.*?\)/gu,ts={...e7,getAnimatableNone:e=>{let t=e.match(tr);return t?t.map(tt).join(" "):e}},ti={...eh,transform:Math.round},tn={borderWidth:em,borderTopWidth:em,borderRightWidth:em,borderBottomWidth:em,borderLeftWidth:em,borderRadius:em,radius:em,borderTopLeftRadius:em,borderTopRightRadius:em,borderBottomRightRadius:em,borderBottomLeftRadius:em,width:em,maxWidth:em,height:em,maxHeight:em,top:em,right:em,bottom:em,left:em,padding:em,paddingTop:em,paddingRight:em,paddingBottom:em,paddingLeft:em,margin:em,marginTop:em,marginRight:em,marginBottom:em,marginLeft:em,backgroundPositionX:em,backgroundPositionY:em,rotate:ef,rotateX:ef,rotateY:ef,rotateZ:ef,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:ef,skewX:ef,skewY:ef,distance:em,translateX:em,translateY:em,translateZ:em,x:em,y:em,z:em,perspective:em,transformPerspective:em,opacity:eu,originX:ev,originY:ev,originZ:em,zIndex:ti,fillOpacity:eu,strokeOpacity:eu,numOctaves:ti},ta={...tn,color:e0,backgroundColor:e0,outlineColor:e0,fill:e0,stroke:e0,borderColor:e0,borderTopColor:e0,borderRightColor:e0,borderBottomColor:e0,borderLeftColor:e0,filter:ts,WebkitFilter:ts},to=e=>ta[e];function tl(e,t){let r=to(e);return r!==ts&&(r=e7),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let th=new Set(["auto","none","0"]);class tu extends eq{constructor(e,t,r,s,i){super(e,t,r,s,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let s=e[r];if("string"==typeof s&&K(s=s.trim())){let i=function e(t,r,s=1){eS(s<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[i,n]=function(e){let t=eE.exec(e);if(!t)return[,];let[,r,s,i]=t;return[`--${r??s}`,i]}(t);if(!i)return;let a=window.getComputedStyle(r).getPropertyValue(i);if(a){let e=a.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return K(n)?e(n,r,s+1):n}(s,t.current);void 0!==i&&(e[r]=i),r===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!eo.has(r)||2!==e.length)return;let[s,i]=e,n=ex(s),a=ex(i);if(n!==a)if(eT(n)&&eT(a))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else eP[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&r.push(t);r.length&&function(e,t,r){let s,i=0;for(;i<e.length&&!s;){let t=e[i];"string"==typeof t&&!th.has(t)&&e4(t).values.length&&(s=e[i]),i++}if(s&&r)for(let i of t)e[i]=tl(r,s)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eP[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let s=t[t.length-1];void 0!==s&&e.getValue(r,s).jump(s,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);let i=r.length-1,n=r[i];r[i]=eP[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}let tc=e=>!!(e&&e.getVelocity);function td(){t=void 0}let tf={now:()=>(void 0===t&&tf.set(eD.isProcessing||eO.useManualTiming?eD.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(td)}};function tp(e,t){-1===e.indexOf(t)&&e.push(t)}function tm(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class tg{constructor(){this.subscriptions=[]}add(e){return tp(this.subscriptions,e),()=>tm(this.subscriptions,e)}notify(e,t,r){let s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){let s=this.subscriptions[i];s&&s(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ty(e,t){return t?1e3/t*e:0}let tv={current:void 0};class tw{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=tf.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=tf.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tg);let r=this.events[e].add(t);return"change"===e?()=>{r(),eN.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return tv.current&&tv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=tf.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ty(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tb(e,t){return new tw(e,t)}let tx=[...eb,e0,e7],{schedule:t_}=eI(queueMicrotask,!1),tk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tS={};for(let e in tk)tS[e]={isEnabled:t=>tk[e].some(e=>!!t[e])};let tE=()=>({translate:0,scale:1,origin:0,originPoint:0}),tT=()=>({x:tE(),y:tE()}),tj=()=>({min:0,max:0}),tA=()=>({x:tj(),y:tj()}),tP="undefined"!=typeof window,tR={current:null},tO={current:!1},tC=new WeakMap;function tI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function tN(e){return"string"==typeof e||Array.isArray(e)}let t$=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tD=["initial",...t$];function tB(e){return tI(e.animate)||tD.some(t=>tN(e[t]))}function tM(e){return!!(tB(e)||e.variants)}function tU(e){let t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function tL(e,t,r,s){if("function"==typeof t){let[i,n]=tU(s);t=t(void 0!==r?r:e.custom,i,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[i,n]=tU(s);t=t(void 0!==r?r:e.custom,i,n)}return t}let tV=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tF{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:n},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eq,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=tf.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,eN.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=n;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=tB(t),this.isVariantNode=tM(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in u){const t=u[e];void 0!==o[e]&&tc(t)&&t.set(o[e])}}mount(e){this.current=e,tC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),tO.current||function(){if(tO.current=!0,tP)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tR.current=e.matches;e.addEventListener("change",t),t()}else tR.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||tR.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),e$(this.notifyUpdate),e$(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let s=C.has(e);s&&this.onBindTransform&&this.onBindTransform();let i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&eN.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in tS){let t=tS[e];if(!t)continue;let{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tA()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tV.length;t++){let r=tV[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=function(e,t,r){for(let s in t){let i=t[s],n=r[s];if(tc(i))e.addValue(s,i);else if(tc(n))e.addValue(s,tb(i,{owner:e}));else if(n!==i)if(e.hasValue(s)){let t=e.getValue(s);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(s);e.addValue(s,tb(void 0!==t?t:i,{owner:e}))}}for(let s in r)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=tb(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=r){let s,i;if("string"==typeof r&&(s=r,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s)||(i=r,/^0[^.\s]+$/u.test(i))))r=parseFloat(r);else{let s;s=r,!tx.find(ew(s))&&e7.test(t)&&(r=tl(e,t))}this.setBaseTarget(e,tc(r)?r.get():r)}return tc(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let s=tL(this.props,r,this.presenceContext?.custom);s&&(t=s[e])}if(r&&void 0!==t)return t;let s=this.getBaseTargetFromProps(this.props,e);return void 0===s||tc(s)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new tg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){t_.render(this.render)}}class tW extends tF{constructor(){super(...arguments),this.KeyframeResolver=tu}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;tc(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}let tq=(e,t)=>t&&"number"==typeof e?t.transform(e):e,tz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tK=O.length;function tH(e,t,r){let{style:s,vars:i,transformOrigin:n}=e,a=!1,o=!1;for(let e in t){let r=t[e];if(C.has(e)){a=!0;continue}if(q(e)){i[e]=r;continue}{let t=tq(r,tn[e]);e.startsWith("origin")?(o=!0,n[e]=t):s[e]=t}}if(!t.transform&&(a||r?s.transform=function(e,t,r){let s="",i=!0;for(let n=0;n<tK;n++){let a=O[n],o=e[a];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===+!!a.startsWith("scale"):0===parseFloat(o))||r){let e=tq(o,tn[a]);if(!l){i=!1;let t=tz[a]||a;s+=`${t}(${e}) `}r&&(t[a]=e)}}return s=s.trim(),r?s=r(t,i?"":s):i&&(s="none"),s}(t,e.transform,r):s.transform&&(s.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:r=0}=n;s.transformOrigin=`${e} ${t} ${r}`}}function tG(e,{style:t,vars:r},s,i){let n,a=e.style;for(n in t)a[n]=t[n];for(n in i?.applyProjectionStyles(a,s),r)a.setProperty(n,r[n])}function tJ(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let tY={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!em.test(e))return e;else e=parseFloat(e);let r=tJ(e,t.target.x),s=tJ(e,t.target.y);return`${r}% ${s}%`}},tX={borderRadius:{...tY,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tY,borderTopRightRadius:tY,borderBottomLeftRadius:tY,borderBottomRightRadius:tY,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let s=e7.parse(e);if(s.length>5)return e;let i=e7.createTransformer(e),n=+("number"!=typeof s[0]),a=r.x.scale*t.x,o=r.y.scale*t.y;s[0+n]/=a,s[1+n]/=o;let l=J(a,o,.5);return"number"==typeof s[2+n]&&(s[2+n]/=l),"number"==typeof s[3+n]&&(s[3+n]/=l),i(s)}}};function tZ(e,{layout:t,layoutId:r}){return C.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!tX[e]||"opacity"===e)}function tQ(e,t,r){let{style:s}=e,i={};for(let n in s)(tc(s[n])||t.style&&tc(t.style[n])||tZ(n,e)||r?.getValue(n)?.liveStyle!==void 0)&&(i[n]=s[n]);return i}class t0 extends tW{constructor(){super(...arguments),this.type="html",this.renderInstance=tG}readValueFromInstance(e,t){if(C.has(t))return this.projection?.isProjecting?L(t):((e,t)=>{let{transform:r="none"}=getComputedStyle(e);return V(r,t)})(e,t);{let r=window.getComputedStyle(e),s=(q(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof s?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ea(e,t)}build(e,t,r){tH(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return tQ(e,t,r)}}let t1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t2={offset:"stroke-dashoffset",array:"stroke-dasharray"},t5={offset:"strokeDashoffset",array:"strokeDasharray"};function t3(e,{attrX:t,attrY:r,attrScale:s,pathLength:i,pathSpacing:n=1,pathOffset:a=0,...o},l,h,u){if(tH(e,o,h),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:c,style:d}=e;c.transform&&(d.transform=c.transform,delete c.transform),(d.transform||c.transformOrigin)&&(d.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),d.transform&&(d.transformBox=u?.transformBox??"fill-box",delete c.transformBox),void 0!==t&&(c.x=t),void 0!==r&&(c.y=r),void 0!==s&&(c.scale=s),void 0!==i&&function(e,t,r=1,s=0,i=!0){e.pathLength=1;let n=i?t2:t5;e[n.offset]=em.transform(-s);let a=em.transform(t),o=em.transform(r);e[n.array]=`${a} ${o}`}(c,i,n,a,!1)}let t4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),t6=e=>"string"==typeof e&&"svg"===e.toLowerCase();function t8(e,t,r){let s=tQ(e,t,r);for(let r in e)(tc(e[r])||tc(t[r]))&&(s[-1!==O.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return s}class t9 extends tW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tA}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(C.has(t)){let e=to(t);return e&&e.default||0}return t=t4.has(t)?t:t1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return t8(e,t,r)}build(e,t,r){t3(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,s){for(let r in tG(e,t,void 0,s),t.attrs)e.setAttribute(t4.has(r)?r:t1(r),t.attrs[r])}mount(e){this.isSVGTag=t6(e.tagName),super.mount(e)}}let t7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function re(e){if("string"!=typeof e||e.includes("-"));else if(t7.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let rt=(0,R.createContext)({}),rr=(0,R.createContext)({strict:!1}),rs=(0,R.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ri=(0,R.createContext)({});function rn(e){return Array.isArray(e)?e.join(" "):e}let ra=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ro(e,t,r){for(let s in t)tc(t[s])||tZ(s,r)||(e[s]=t[s])}let rl=()=>({...ra(),attrs:{}}),rh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ru(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rh.has(e)}let rc=e=>!ru(e);try{a=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof a&&(rc=e=>e.startsWith("on")?!ru(e):a(e))}catch{}let rd=(0,R.createContext)(null);function rf(e){let t=(0,R.useRef)(null);return null===t.current&&(t.current=e()),t.current}function rp(e){return tc(e)?e.get():e}let rm=e=>(t,r)=>{let s=(0,R.useContext)(ri),i=(0,R.useContext)(rd),n=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},r,s,i){return{latestValues:function(e,t,r,s){let i={},n=s(e,{});for(let e in n)i[e]=rp(n[e]);let{initial:a,animate:o}=e,l=tB(e),h=tM(e);t&&h&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!r&&!1===r.initial,c=(u=u||!1===a)?o:a;if(c&&"boolean"!=typeof c&&!tI(c)){let t=Array.isArray(c)?c:[c];for(let r=0;r<t.length;r++){let s=tL(e,t[r]);if(s){let{transitionEnd:e,transition:t,...r}=s;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}(r,s,i,e),renderState:t()}})(e,t,s,i);return r?n():rf(n)},rg=rm({scrapeMotionValuesFromProps:tQ,createRenderState:ra}),ry=rm({scrapeMotionValuesFromProps:t8,createRenderState:rl}),rv=Symbol.for("motionComponentSymbol");function rw(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let rb="data-"+t1("framerAppearId"),rx=(0,R.createContext)({}),r_=tP?R.useLayoutEffect:R.useEffect;function rk(e,{forwardMotionProps:t=!1}={},r,s){r&&function(e){for(let t in e)tS[t]={...tS[t],...e[t]}}(r);let i=re(e)?ry:rg;function n(r,n){var a;let o,l={...(0,R.useContext)(rs),...r,layoutId:function({layoutId:e}){let t=(0,R.useContext)(rt).id;return t&&void 0!==e?t+"-"+e:e}(r)},{isStatic:h}=l,u=function(e){let{initial:t,animate:r}=function(e,t){if(tB(e)){let{initial:t,animate:r}=e;return{initial:!1===t||tN(t)?t:void 0,animate:tN(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,R.useContext)(ri));return(0,R.useMemo)(()=>({initial:t,animate:r}),[rn(t),rn(r)])}(r),c=i(r,h);if(!h&&tP){(0,R.useContext)(rr).strict;let t=function(e){let{drag:t,layout:r}=tS;if(!t&&!r)return{};let s={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(l);o=t.MeasureLayout,u.visualElement=function(e,t,r,s,i){let{visualElement:n}=(0,R.useContext)(ri),a=(0,R.useContext)(rr),o=(0,R.useContext)(rd),l=(0,R.useContext)(rs).reducedMotion,h=(0,R.useRef)(null);s=s||a.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:n,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));let u=h.current,c=(0,R.useContext)(rx);u&&!u.projection&&i&&("html"===u.type||"svg"===u.type)&&function(e,t,r,s){let{layoutId:i,layout:n,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:h,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:i,layout:n,alwaysMeasureLayout:!!a||o&&rw(o),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:l,layoutRoot:h})}(h.current,r,i,c);let d=(0,R.useRef)(!1);(0,R.useInsertionEffect)(()=>{u&&d.current&&u.update(r,o)});let f=r[rb],p=(0,R.useRef)(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return r_(()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),(0,R.useEffect)(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),p.current=!1),u.enteringChildren=void 0)}),u}(e,c,l,s,t.ProjectionNode)}return(0,A.jsxs)(ri.Provider,{value:u,children:[o&&u.visualElement?(0,A.jsx)(o,{visualElement:u.visualElement,...l}):null,function(e,t,r,{latestValues:s},i,n=!1){let a=(re(e)?function(e,t,r,s){let i=(0,R.useMemo)(()=>{let r=rl();return t3(r,t,t6(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};ro(t,e.style,e),i.style={...t,...i.style}}return i}:function(e,t){let r,s,i={},n=(r=e.style||{},ro(s={},r,e),Object.assign(s,function({transformTemplate:e},t){return(0,R.useMemo)(()=>{let r=ra();return tH(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),s);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=n,i})(t,s,i,e),o=function(e,t,r){let s={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(rc(i)||!0===r&&ru(i)||!t&&!ru(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}(t,"string"==typeof e,n),l=e!==R.Fragment?{...o,...a,ref:r}:{},{children:h}=t,u=(0,R.useMemo)(()=>tc(h)?h.get():h,[h]);return(0,R.createElement)(e,{...l,children:u})}(e,r,(a=u.visualElement,(0,R.useCallback)(e=>{e&&c.onMount&&c.onMount(e),a&&(e?a.mount(e):a.unmount()),n&&("function"==typeof n?n(e):rw(n)&&(n.current=e))},[a])),c,h,t)]})}n.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let a=(0,R.forwardRef)(n);return a[rv]=e,a}function rS(e,t,r){let s=e.getProps();return tL(s,t,void 0!==r?r:s.custom,e)}function rE(e,t){return e?.[t]??e?.default??e}let rT=e=>Array.isArray(e);function rj(e,t){let r=e.getValue("willChange");if(tc(r)&&r.add)return r.add(t);if(!r&&eO.WillChange){let r=new eO.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function rA(e){e.duration=0,e.type="keyframes"}let rP=(e,t)=>r=>t(e(r)),rR=(...e)=>e.reduce(rP),rO=e=>1e3*e,rC={layout:0,mainThread:0,waapi:0};function rI(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rN(e,t){return r=>r>0?t:e}let r$=(e,t,r)=>{let s=e*e,i=r*(t*t-s)+s;return i<0?0:Math.sqrt(i)},rD=[eZ,eX,eQ];function rB(e){let t=rD.find(t=>t.test(e));if(ek(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===eQ&&(r=function({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,r/=100;let i=0,n=0,a=0;if(t/=100){let s=r<.5?r*(1+t):r+t-r*t,o=2*r-s;i=rI(o,s,e+1/3),n=rI(o,s,e),a=rI(o,s,e-1/3)}else i=n=a=r;return{red:Math.round(255*i),green:Math.round(255*n),blue:Math.round(255*a),alpha:s}}(r)),r}let rM=(e,t)=>{let r=rB(e),s=rB(t);if(!r||!s)return rN(e,t);let i={...r};return e=>(i.red=r$(r.red,s.red,e),i.green=r$(r.green,s.green,e),i.blue=r$(r.blue,s.blue,e),i.alpha=J(r.alpha,s.alpha,e),eX.transform(i))},rU=new Set(["none","hidden"]);function rL(e,t){return r=>J(e,t,r)}function rV(e){return"number"==typeof e?rL:"string"==typeof e?K(e)?rN:e0.test(e)?rM:rq:Array.isArray(e)?rF:"object"==typeof e?e0.test(e)?rM:rW:rN}function rF(e,t){let r=[...e],s=r.length,i=e.map((e,r)=>rV(e)(e,t[r]));return e=>{for(let t=0;t<s;t++)r[t]=i[t](e);return r}}function rW(e,t){let r={...e,...t},s={};for(let i in r)void 0!==e[i]&&void 0!==t[i]&&(s[i]=rV(e[i])(e[i],t[i]));return e=>{for(let t in s)r[t]=s[t](e);return r}}let rq=(e,t)=>{let r=e7.createTransformer(t),s=e4(e),i=e4(t);if(!(s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length))return ek(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),rN(e,t);if(rU.has(e)&&!i.values.length||rU.has(t)&&!s.values.length)return rU.has(e)?r=>r<=0?e:t:r=>r>=1?t:e;return rR(rF(function(e,t){let r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let n=t.types[i],a=e.indexes[n][s[n]],o=e.values[a]??0;r[i]=o,s[n]++}return r}(s,i),i.values),r)};function rz(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?J(e,t,r):rV(e)(e,t)}let rK=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>eN.update(t,e),stop:()=>e$(t),now:()=>eD.isProcessing?eD.timestamp:tf.now()}},rH=(e,t,r=10)=>{let s="",i=Math.max(Math.round(t/r),2);for(let t=0;t<i;t++)s+=Math.round(1e4*e(t/(i-1)))/1e4+", ";return`linear(${s.substring(0,s.length-2)})`};function rG(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function rJ(e,t,r){let s=Math.max(t-5,0);return ty(r-e(s),t-s)}let rY=.01,rX=2,rZ=.005,rQ=.5;function r0(e,t){return e*Math.sqrt(1-t*t)}let r1=["duration","bounce"],r2=["stiffness","damping","mass"];function r5(e,t){return t.some(t=>void 0!==e[t])}function r3(e=.3,t=.3){let r,s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:i,restDelta:n}=s,a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:h,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!r5(e,r2)&&r5(e,r1))if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),s=r*r,i=2*el(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:1,stiffness:s,damping:i}}else{let r=function({duration:e=800,bounce:t=.3,velocity:r=0,mass:s=1}){let i,n;ek(e<=rO(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=el(.05,1,a),e=el(.01,10,e/1e3),a<1?(i=t=>{let s=t*a,i=s*e;return .001-(s-r)/r0(t,a)*Math.exp(-i)},n=t=>{let s=t*a*e,n=Math.pow(a,2)*Math.pow(t,2)*e,o=Math.exp(-s),l=r0(Math.pow(t,2),a);return(s*r+r-n)*o*(-i(t)+.001>0?-1:1)/l}):(i=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),n=t=>e*e*(r-t)*Math.exp(-t*e));let o=function(e,t,r){let s=r;for(let r=1;r<12;r++)s-=e(s)/t(s);return s}(i,n,5/e);if(e=rO(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*s;return{stiffness:t,damping:2*a*Math.sqrt(s*t),duration:e}}}(e);(t={...t,...r,mass:1}).isResolvedFromDuration=!0}return t}({...s,velocity:-((s.velocity||0)/1e3)}),m=f||0,g=u/(2*Math.sqrt(h*c)),y=o-a,v=Math.sqrt(h/c)/1e3,w=5>Math.abs(y);if(i||(i=w?rY:rX),n||(n=w?rZ:rQ),g<1){let e=r0(v,g);r=t=>o-Math.exp(-g*v*t)*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)r=e=>o-Math.exp(-v*e)*(y+(m+v*y)*e);else{let e=v*Math.sqrt(g*g-1);r=t=>{let r=Math.exp(-g*v*t),s=Math.min(e*t,300);return o-r*((m+g*v*y)*Math.sinh(s)+e*y*Math.cosh(s))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=r(e);if(p)l.done=e>=d;else{let s=0===e?m:0;g<1&&(s=0===e?rO(m):rJ(r,e,t));let a=Math.abs(o-t)<=n;l.done=Math.abs(s)<=i&&a}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(rG(b),2e4),t=rH(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function r4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:n=500,modifyTarget:a,min:o,max:l,restDelta:h=.5,restSpeed:u}){let c,d,f=e[0],p={done:!1,value:f},m=r*t,g=f+m,y=void 0===a?g:a(g);y!==g&&(m=y-f);let v=e=>-m*Math.exp(-e/s),w=e=>y+v(e),b=e=>{let t=v(e),r=w(e);p.done=Math.abs(t)<=h,p.value=p.done?y:r},x=e=>{let t;if(t=p.value,void 0!==o&&t<o||void 0!==l&&t>l){var r;c=e,d=r3({keyframes:[p.value,(r=p.value,void 0===o?l:void 0===l||Math.abs(o-r)<Math.abs(l-r)?o:l)],velocity:rJ(w,e,p.value),damping:i,stiffness:n,restDelta:h,restSpeed:u})}};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==c||(t=!0,b(e),x(e)),void 0!==c&&e>=c)?d.next(e-c):(t||b(e),p)}}}r3.applyToOptions=e=>{let t=function(e,t=100,r){let s=r({...e,keyframes:[0,t]}),i=Math.min(rG(s),2e4);return{type:"keyframes",ease:e=>s.next(i*e).value/t,duration:i/1e3}}(e,100,r3);return e.ease=t.ease,e.duration=rO(t.duration),e.type="keyframes",e};let r6=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function r8(e,t,r,s){return e===t&&r===s?eR:i=>0===i||1===i?i:r6(function(e,t,r,s,i){let n,a,o=0;do(n=r6(a=t+(r-t)/2,s,i)-e)>0?r=a:t=a;while(Math.abs(n)>1e-7&&++o<12)return a}(i,0,1,e,r),t,s)}let r9=r8(.42,0,1,1),r7=r8(0,0,.58,1),se=r8(.42,0,.58,1),st=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sr=e=>t=>1-e(1-t),ss=r8(.33,1.53,.69,.99),si=sr(ss),sn=st(si),sa=e=>(e*=2)<1?.5*si(e):.5*(2-Math.pow(2,-10*(e-1))),so=e=>1-Math.sin(Math.acos(e)),sl=sr(so),sh=st(so),su=e=>Array.isArray(e)&&"number"==typeof e[0],sc={linear:eR,easeIn:r9,easeInOut:se,easeOut:r7,circIn:so,circInOut:sh,circOut:sl,backIn:si,backInOut:sn,backOut:ss,anticipate:sa},sd=e=>{if(su(e)){eS(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,r,s,i]=e;return r8(t,r,s,i)}return"string"==typeof e?(eS(void 0!==sc[e],`Invalid easing type '${e}'`,"invalid-easing-type"),sc[e]):e},sf=(e,t,r)=>{let s=t-e;return 0===s?1:(r-e)/s};function sp(e,t,{clamp:r=!0,ease:s,mixer:i}={}){let n=e.length;if(eS(n===t.length,"Both input and output ranges must be the same length","range-length"),1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,r){let s=[],i=r||eO.mix||rz,n=e.length-1;for(let r=0;r<n;r++){let n=i(e[r],e[r+1]);t&&(n=rR(Array.isArray(t)?t[r]||eR:t,n)),s.push(n)}return s}(t,s,i),l=o.length,h=r=>{if(a&&r<e[0])return t[0];let s=0;if(l>1)for(;s<e.length-2&&!(r<e[s+1]);s++);let i=sf(e[s],e[s+1],r);return o[s](i)};return r?t=>h(el(e[0],e[n-1],t)):h}function sm(e){let t=[0];return!function(e,t){let r=e[e.length-1];for(let s=1;s<=t;s++){let i=sf(0,t,s);e.push(J(r,1,i))}}(t,e.length-1),t}function sg({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){var i;let n=Array.isArray(s)&&"number"!=typeof s[0]?s.map(sd):sd(s),a={done:!1,value:t[0]},o=sp((i=r&&r.length===t.length?r:sm(t),i.map(t=>t*e)),t,{ease:Array.isArray(n)?n:t.map(()=>n||se).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}let sy=e=>null!==e;function sv(e,{repeat:t,repeatType:r="loop"},s,i=1){let n=e.filter(sy),a=i<0||t&&"loop"!==r&&t%2==1?0:n.length-1;return a&&void 0!==s?s:n[a]}let sw={decay:r4,inertia:r4,tween:sg,keyframes:sg,spring:r3};function sb(e){"string"==typeof e.type&&(e.type=sw[e.type])}class sx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let s_=e=>e/100;class sk extends sx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==tf.now()&&this.tick(tf.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},rC.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;sb(e);let{type:t=sg,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:n=0}=e,{keyframes:a}=e,o=t||sg;o!==sg&&"number"!=typeof a[0]&&(this.mixKeyframes=rR(s_,rz(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===i&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-n})),null===l.calculatedDuration&&(l.calculatedDuration=rG(l));let{calculatedDuration:h}=l;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:n,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return r.next(0);let{delay:l=0,keyframes:h,repeat:u,repeatType:c,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=s);let v=this.currentTime,w=r;if(u){let e=Math.min(this.currentTime,s)/a,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,u+1))%2&&("reverse"===c?(r=1-r,d&&(r-=d/a)):"mirror"===c&&(w=n)),v=el(0,1,r)*a}let b=y?{done:!1,value:h[0]}:w.next(v);i&&(b.value=i(b.value));let{done:x}=b;y||null===o||(x=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);let _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return _&&f!==r4&&(b.value=sv(h,this.options,m,this.speed)),p&&p(b.value),_&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=rO(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tf.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=rK,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tf.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,rC.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function sS(e){let t;return()=>(void 0===t&&(t=e()),t)}let sE=sS(()=>void 0!==window.ScrollTimeline),sT={},sj=(n=sS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>sT.linearEasing??n()),sA=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,sP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sA([0,.65,.55,1]),circOut:sA([.55,0,1,.45]),backIn:sA([.31,.01,.66,-.59]),backOut:sA([.33,1.53,.69,.99])};function sR(e){return"function"==typeof e&&"applyToOptions"in e}class sO extends sx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:s,pseudoElement:i,allowFlatten:n=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!i,this.allowFlatten=n,this.options=e,eS("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return sR(e)&&sj()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,r,{delay:s=0,duration:i=300,repeat:n=0,repeatType:a="loop",ease:o="easeOut",times:l}={},h){let u={[t]:r};l&&(u.offset=l);let c=function e(t,r){if(t)return"function"==typeof t?sj()?rH(t,r):"ease-out":su(t)?sA(t):Array.isArray(t)?t.map(t=>e(t,r)||sP.easeOut):sP[t]}(o,i);Array.isArray(c)&&(u.easing=c);let d={delay:s,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:n+1,direction:"reverse"===a?"alternate":"normal"};h&&(d.pseudoElement=h);let f=e.animate(u,d);return f}(t,r,s,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=sv(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):r.startsWith("--")?t.style.setProperty(r,e):t.style[r]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.finishedTime=null,this.animation.currentTime=rO(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sE())?(this.animation.timeline=e,eR):t(this)}}let sC={anticipate:sa,backInOut:sn,circInOut:sh};class sI extends sO{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in sC&&(e.ease=sC[e.ease])}(e),sb(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:r,onComplete:s,element:i,...n}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let a=new sk({...n,autoplay:!1}),o=rO(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}let sN=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(e7.test(e)||"0"===e)&&!e.startsWith("url(")),s$=new Set(["opacity","clipPath","filter","transform"]),sD=sS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class sB extends sx{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:n="loop",keyframes:a,name:o,motionValue:l,element:h,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tf.now();const c={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:i,repeatType:n,name:o,motionValue:l,element:h,...u},d=h?.KeyframeResolver||eq;this.keyframeResolver=new d(a,(e,t,r)=>this.onKeyframesResolved(e,t,c,!r),o,l,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;let{name:i,type:n,velocity:a,delay:o,isHandoff:l,onUpdate:h}=r;this.resolvedAt=tf.now(),!function(e,t,r,s){let i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;let n=e[e.length-1],a=sN(i,t),o=sN(n,t);return ek(a===o,`You are trying to animate ${t} from "${i}" to "${n}". "${a?n:i}" is not an animatable value.`,"value-not-animatable"),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||sR(r))&&s)}(e,i,n,a)&&((eO.instantAnimations||!o)&&h?.(sv(e,r,t)),e[0]=e[e.length-1],rA(r),r.repeat=0);let u={startTime:s?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},c=!l&&function(e){let{motionValue:t,name:r,repeatDelay:s,repeatType:i,damping:n,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return sD()&&r&&s$.has(r)&&("transform"!==r||!l)&&!o&&!s&&"mirror"!==i&&0!==n&&"inertia"!==a}(u)?new sI({...u,element:u.motionValue.owner.current}):new sk(u);c.finished.then(()=>this.notifyFinished()).catch(eR),this.pendingTimeline&&(this.stopTimeline=c.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=c}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eV=!0,eW(),eF(),eV=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let sM=e=>null!==e,sU={type:"spring",stiffness:500,damping:25,restSpeed:10},sL={type:"keyframes",duration:.8},sV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sF=(e,t,r,s={},i,n)=>a=>{let o=rE(s,e)||{},l=o.delay||s.delay||0,{elapsed:h=0}=s;h-=rO(l);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-h,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:n?void 0:i};!function({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:n,repeatType:a,repeatDelay:o,from:l,elapsed:h,...u}){return!!Object.keys(u).length}(o)&&Object.assign(u,((e,{keyframes:t})=>t.length>2?sL:C.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:sU:sV)(e,u)),u.duration&&(u.duration=rO(u.duration)),u.repeatDelay&&(u.repeatDelay=rO(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let c=!1;if(!1!==u.type&&(0!==u.duration||u.repeatDelay)||(rA(u),0===u.delay&&(c=!0)),(eO.instantAnimations||eO.skipAnimations)&&(c=!0,rA(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,c&&!n&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:r="loop"},s){let i=e.filter(sM),n=t&&"loop"!==r&&t%2==1?0:i.length-1;return i[n]}(u.keyframes,o);if(void 0!==e)return void eN.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new sk(u):new sB(u)};function sW(e,t,{delay:r=0,transitionOverride:s,type:i}={}){let{transition:n=e.getDefaultTransition(),transitionEnd:a,...o}=t;s&&(n=s);let l=[],h=i&&e.animationState&&e.animationState.getState()[i];for(let t in o){let s=e.getValue(t,e.latestValues[t]??null),i=o[t];if(void 0===i||h&&function({protectedKeys:e,needsAnimating:t},r){let s=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,s}(h,t))continue;let a={delay:r,...rE(n||{},t)},u=s.get();if(void 0!==u&&!s.isAnimating&&!Array.isArray(i)&&i===u&&!a.velocity)continue;let c=!1;if(window.MotionHandoffAnimation){let r=e.props[rb];if(r){let e=window.MotionHandoffAnimation(r,t,eN);null!==e&&(a.startTime=e,c=!0)}}rj(e,t),s.start(sF(t,s,i,e.shouldReduceMotion&&eo.has(t)?{type:!1}:a,e,c));let d=s.animation;d&&l.push(d)}return a&&Promise.all(l).then(()=>{eN.update(()=>{a&&function(e,t){let{transitionEnd:r={},transition:s={},...i}=rS(e,t)||{};for(let t in i={...i,...r}){var n;let r=rT(n=i[t])?n[n.length-1]||0:n;e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,tb(r))}}(e,a)})}),l}function sq(e,t,r,s=0,i=1){let n=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*s;return"function"==typeof r?r(n,a):1===i?n*s:o-n*s}function sz(e,t,r={}){let s=rS(e,t,"exit"===r.type?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);let n=s?()=>Promise.all(sW(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(s=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t,r=0,s=0,i=0,n=1,a){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(sz(l,t,{...a,delay:r+("function"==typeof s?0:s)+sq(e.variantChildren,l,s,i,n)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,s,n,a,o,r)}:()=>Promise.resolve(),{when:o}=i;if(!o)return Promise.all([n(),a(r.delay)]);{let[e,t]="beforeChildren"===o?[n,a]:[a,n];return e().then(()=>t())}}function sK(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}let sH=tD.length,sG=[...t$].reverse(),sJ=t$.length;function sY(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sX(){return{animate:sY(!0),whileInView:sY(),whileHover:sY(),whileTap:sY(),whileDrag:sY(),whileFocus:sY(),exit:sY()}}class sZ{constructor(e){this.isMounted=!1,this.node=e}update(){}}let sQ=0,s0={x:!1,y:!1};function s1(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}let s2=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function s5(e){return{point:{x:e.pageX,y:e.pageY}}}function s3(e,t,r,s){return s1(e,t,e=>s2(e)&&r(e,s5(e)),s)}function s4(e){return e.max-e.min}function s6(e,t,r,s=.5){e.origin=s,e.originPoint=J(t.min,t.max,e.origin),e.scale=s4(r)/s4(t),e.translate=J(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function s8(e,t,r,s){s6(e.x,t.x,r.x,s?s.originX:void 0),s6(e.y,t.y,r.y,s?s.originY:void 0)}function s9(e,t,r){e.min=r.min+t.min,e.max=e.min+s4(t)}function s7(e,t,r){e.min=t.min-r.min,e.max=e.min+s4(t)}function ie(e,t,r){s7(e.x,t.x,r.x),s7(e.y,t.y,r.y)}function it(e){return[e("x"),e("y")]}let ir=({current:e})=>e?e.ownerDocument.defaultView:null,is=(e,t)=>Math.abs(e-t);class ii{constructor(e,t,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:n=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=il(this.lastMoveEventInfo,this.history),s=null!==this.startEvent,i=(e=r.offset,t={x:0,y:0},Math.sqrt(is(e.x,t.x)**2+is(e.y,t.y)**2)>=this.distanceThreshold);if(!s&&!i)return;let{point:n}=r,{timestamp:a}=eD;this.history.push({...n,timestamp:a});let{onStart:o,onMove:l}=this.handlers;s||(o&&o(this.lastMoveEvent,r),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,r)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ia(t,this.transformPagePoint),eN.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:s,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=il("pointercancel"===e.type?this.lastMoveEventInfo:ia(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,n),s&&s(e,n)},!s2(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=n,this.contextWindow=s||window;const a=ia(s5(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=eD;this.history=[{...o,timestamp:l}];const{onSessionStart:h}=t;h&&h(e,il(a,this.history)),this.removeListeners=rR(s3(this.contextWindow,"pointermove",this.handlePointerMove),s3(this.contextWindow,"pointerup",this.handlePointerUp),s3(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),e$(this.updatePoint)}}function ia(e,t){return t?{point:t(e.point)}:e}function io(e,t){return{x:e.x-t.x,y:e.y-t.y}}function il({point:e},t){return{point:e,delta:io(e,ih(t)),offset:io(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null,i=ih(e);for(;r>=0&&(s=e[r],!(i.timestamp-s.timestamp>rO(.1)));)r--;if(!s)return{x:0,y:0};let n=(i.timestamp-s.timestamp)/1e3;if(0===n)return{x:0,y:0};let a={x:(i.x-s.x)/n,y:(i.y-s.y)/n};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function ih(e){return e[e.length-1]}function iu(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function ic(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function id(e,t,r){return{min:ip(e,t),max:ip(e,r)}}function ip(e,t){return"number"==typeof e?e:e[t]||0}let im=new WeakMap;class ig{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tA(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){let{presenceContext:s}=this.visualElement;if(s&&!1===s.isPresent)return;let i=e=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(s5(e).point)},n=(e,t)=>{let{drag:r,dragPropagation:s,onDragStart:i}=this.getProps();if(r&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(s0[e])return null;else return s0[e]=!0,()=>{s0[e]=!1};return s0.x||s0.y?null:(s0.x=s0.y=!0,()=>{s0.x=s0.y=!1})}(r),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),it(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ep.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let s=r.layout.layoutBox[e];s&&(t=s4(s)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&eN.postRender(()=>i(e,t)),rj(this.visualElement,"transform");let{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:r,dragDirectionLock:s,onDirectionLock:i,onDrag:n}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:a}=t;if(s&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(a),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),n&&n(e,t)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>it(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new ii(e,{onSessionStart:i,onStart:n,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:ir(this.visualElement)})}stop(e,t){let r=e||this.latestPointerEvent,s=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;let{velocity:n}=s;this.startAnimation(n);let{onDragEnd:a}=this.getProps();a&&eN.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){let{drag:s}=this.getProps();if(!r||!iy(e,s,this.currentDirection))return;let i=this.getAxisMotionValue(e),n=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:r},s){return void 0!==t&&e<t?e=s?J(t,e,s.min):Math.max(e,t):void 0!==r&&e>r&&(e=s?J(r,e,s.max):Math.min(e,r)),e}(n,this.constraints[e],this.elastic[e])),i.set(n)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&rw(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:t,left:r,bottom:s,right:i}){return{x:iu(e.x,r,i),y:iu(e.y,t,s)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:id(e,"left","right"),y:id(e,"top","bottom")}}(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&it(e=>{var t,s;let i;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=r.layoutBox[e],s=this.constraints[e],i={},void 0!==s.min&&(i.min=s.min-t.min),void 0!==s.max&&(i.max=s.max-t.min),i))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!rw(t))return!1;let s=t.current;eS(null!==s,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let n=function(e,t,r){let s=ea(e,r),{scroll:i}=t;return i&&(es(s.x,i.offset.x),es(s.y,i.offset.y)),s}(s,i.root,this.visualElement.getTransformPagePoint()),a=(e=i.layout.layoutBox,{x:ic(e.x,n.x),y:ic(e.y,n.y)});if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=G(e))}return a}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:n,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(it(a=>{if(!iy(a,t,this.currentDirection))return;let l=o&&o[a]||{};n&&(l={min:0,max:0});let h={type:"inertia",velocity:r?e[a]:0,bounceStiffness:s?200:1e6,bounceDamping:s?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,h)})).then(a)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return rj(this.visualElement,e),r.start(sF(e,r,0,t,this.visualElement,!1))}stopAnimation(){it(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){it(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){it(t=>{let{drag:r}=this.getProps();if(!iy(t,r,this.currentDirection))return;let{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){let{min:r,max:n}=s.layout.layoutBox[t];i.set(e[t]-J(r,n,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!rw(t)||!r||!this.constraints)return;this.stopAnimation();let s={x:0,y:0};it(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var r,i;let n,a,o,l=t.get();s[e]=(r={min:l,max:l},i=this.constraints[e],n=.5,a=s4(r),(o=s4(i))>a?n=sf(i.min,i.max-a,r.min):a>o&&(n=sf(r.min,r.max-o,i.min)),el(0,1,n))}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),it(t=>{if(!iy(t,e,null))return;let r=this.getAxisMotionValue(t),{min:i,max:n}=this.constraints[t];r.set(J(i,n,s[t]))})}addListeners(){if(!this.visualElement.current)return;im.set(this.visualElement,this);let e=s3(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();rw(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),eN.read(t);let i=s1(window,"resize",()=>this.scalePositionWithinConstraints()),n=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(it(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),s(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:n=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:n,dragMomentum:a}}}function iy(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}let iv=e=>(t,r)=>{e&&eN.postRender(()=>e(t,r))};var iw=R;function ib(e=!0){let t=(0,R.useContext)(rd);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:s,register:i}=t,n=(0,R.useId)();(0,R.useEffect)(()=>{if(e)return i(n)},[e]);let a=(0,R.useCallback)(()=>e&&s&&s(n),[n,s,e]);return!r&&s?[!1,a]:[!0]}let ix={hasAnimatedSinceResize:!0,hasEverUpdated:!1},i_=!1;class ik extends iw.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),i_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ix.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,{projection:n}=r;return n&&(n.isPresent=i,i_=!0,s||e.layoutDependency!==t||void 0===t||e.isPresent!==i?n.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?n.promote():n.relegate()||eN.postRender(()=>{let e=n.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),t_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;i_=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iS(e){let[t,r]=ib(),s=(0,iw.useContext)(rt);return(0,A.jsx)(ik,{...e,layoutGroup:s,switchLayoutGroup:(0,iw.useContext)(rx),isPresent:t,safeToRemove:r})}function iE(e){return"object"==typeof e&&null!==e}function iT(e){return iE(e)&&"ownerSVGElement"in e}let ij=(e,t)=>e.depth-t.depth;class iA{constructor(){this.children=[],this.isDirty=!1}add(e){tp(this.children,e),this.isDirty=!0}remove(e){tm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ij),this.isDirty=!1,this.children.forEach(e)}}let iP=["TopLeft","TopRight","BottomLeft","BottomRight"],iR=iP.length,iO=e=>"string"==typeof e?parseFloat(e):e,iC=e=>"number"==typeof e||em.test(e);function iI(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let iN=iD(0,.5,sl),i$=iD(.5,.95,eR);function iD(e,t,r){return s=>s<e?0:s>t?1:r(sf(e,t,s))}function iB(e,t){e.min=t.min,e.max=t.max}function iM(e,t){iB(e.x,t.x),iB(e.y,t.y)}function iU(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iL(e,t,r,s,i){return e-=t,e=s+1/r*(e-s),void 0!==i&&(e=s+1/i*(e-s)),e}function iV(e,t,[r,s,i],n,a){!function(e,t=0,r=1,s=.5,i,n=e,a=e){if(ep.test(t)&&(t=parseFloat(t),t=J(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=J(n.min,n.max,s);e===n&&(o-=t),e.min=iL(e.min,t,r,o,i),e.max=iL(e.max,t,r,o,i)}(e,t[r],t[s],t[i],t.scale,n,a)}let iF=["x","scaleX","originX"],iW=["y","scaleY","originY"];function iq(e,t,r,s){iV(e.x,t,iF,r?r.x:void 0,s?s.x:void 0),iV(e.y,t,iW,r?r.y:void 0,s?s.y:void 0)}function iz(e){return 0===e.translate&&1===e.scale}function iK(e){return iz(e.x)&&iz(e.y)}function iH(e,t){return e.min===t.min&&e.max===t.max}function iG(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iJ(e,t){return iG(e.x,t.x)&&iG(e.y,t.y)}function iY(e){return s4(e.x)/s4(e.y)}function iX(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iZ{constructor(){this.members=[]}add(e){tp(this.members,e),e.scheduleRender()}remove(e){if(tm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:s}=e.options;!1===s&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let iQ=["","X","Y","Z"],i0=0;function i1(e,t,r,s){let{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function i2({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(e={},r=t?.()){this.id=i0++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(i4),this.nodes.forEach(nr),this.nodes.forEach(ns),this.nodes.forEach(i6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new iA)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tg),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=iT(t)&&!(iT(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:r,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||r)&&(this.isLayoutDirty=!0),e){let r,s=0,i=()=>this.root.updateBlockedByResize=!1;eN.read(()=>{s=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==s){let t,n;s=e,this.root.updateBlockedByResize=!0,r&&r(),t=tf.now(),n=({timestamp:e})=>{let r=e-t;r>=250&&(e$(n),i(r-250))},eN.setup(n,!0),r=()=>e$(n),ix.hasAnimatedSinceResize&&(ix.hasAnimatedSinceResize=!1,this.nodes.forEach(nt))}})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:s})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||i.getDefaultTransition()||nh,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!iJ(this.targetLayout,s),h=!t&&r;if(this.options.layoutRoot||this.resumeFrom||h||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...rE(n,"layout"),onPlay:a,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,h)}else t||nt(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),e$(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ni),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let s=r.props[rb];if(window.MotionHasOptimisedAnimation(s,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",eN,!(e||r))}let{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&e(i)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i9);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(i7);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ne),this.nodes.forEach(i5),this.nodes.forEach(i3)):this.nodes.forEach(i7),this.clearAllSnapshots();let e=tf.now();eD.delta=el(0,1e3/60,e-eD.timestamp),eD.timestamp=e,eD.isProcessing=!0,eB.update.process(eD),eB.preRender.process(eD),eB.render.process(eD),eD.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i8),this.sharedNodes.forEach(nn)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,eN.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){eN.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||s4(this.snapshot.measuredBox.x)||s4(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tA(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!iK(this.projectionDelta),r=this.getTransformTemplate(),s=r?r(this.latestValues,""):void 0,n=s!==this.prevTransformTemplateValue;e&&this.instance&&(t||Z(this.latestValues)||n)&&(i(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),s=this.removeElementScroll(r);return e&&(s=this.removeTransform(s)),nd((t=s).x),nd(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return tA();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(np))){let{scroll:e}=this.root;e&&(es(t.x,e.offset.x),es(t.y,e.offset.y))}return t}removeElementScroll(e){let t=tA();if(iM(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){let s=this.path[r],{scroll:i,options:n}=s;s!==this.root&&i&&n.layoutScroll&&(i.wasRoot&&iM(t,e),es(t.x,i.offset.x),es(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let r=tA();iM(r,e);for(let e=0;e<this.path.length;e++){let s=this.path[e];!t&&s.options.layoutScroll&&s.scroll&&s!==s.root&&en(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),Z(s.latestValues)&&en(r,s.latestValues)}return Z(this.latestValues)&&en(r,this.latestValues),r}removeTransform(e){let t=tA();iM(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!Z(r.latestValues))continue;X(r.latestValues)&&r.updateSnapshot();let s=tA();iM(s,r.measurePageBox()),iq(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,s)}return Z(this.latestValues)&&iq(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==eD.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:s,layoutId:i}=this.options;if(!this.layout||!(s||i))return;this.resolvedRelativeTargetAt=eD.timestamp;let n=this.getClosestProjectingParent();if(n&&this.linkedParentVersion!==n.layoutVersion&&!n.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(n&&n.layout?this.createRelativeTarget(n,this.layout.layoutBox,n.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=tA(),this.targetWithTransforms=tA()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var a,o,l;this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,s9(a.x,o.x,l.x),s9(a.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):iM(this.target,this.layout.layoutBox),er(this.target,this.targetDelta)):iM(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,n&&!!n.resumingFrom==!!this.resumingFrom&&!n.options.layoutScroll&&n.target&&1!==this.animationProgress?this.createRelativeTarget(n,this.target,n.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||X(this.parent.latestValues)||Q(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,r){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tA(),this.relativeTargetOrigin=tA(),ie(this.relativeTargetOrigin,t,r),iM(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===eD.timestamp&&(r=!1),r)return;let{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(s||i))return;iM(this.layoutCorrected,this.layout.layoutBox);let n=this.treeScale.x,a=this.treeScale.y;!function(e,t,r,s=!1){let i,n,a=r.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){n=(i=r[o]).projectionDelta;let{visualElement:a}=i.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&en(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,er(e,n)),s&&Z(i.latestValues)&&en(e,i.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=tA());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(iU(this.prevProjectionDelta.x,this.projectionDelta.x),iU(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),s8(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===n&&this.treeScale.y===a&&iX(this.projectionDelta.x,this.prevProjectionDelta.x)&&iX(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tT(),this.projectionDelta=tT(),this.projectionDeltaWithTransform=tT()}setAnimationOrigin(e,t=!1){let r,s=this.snapshot,i=s?s.latestValues:{},n={...this.latestValues},a=tT();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=tA(),l=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),h=this.getStack(),u=!h||h.members.length<=1,c=!!(l&&!u&&!0===this.options.crossfade&&!this.path.some(nl));this.animationProgress=0,this.mixTargetDelta=t=>{let s=t/1e3;if(na(a.x,e.x,s),na(a.y,e.y,s),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var h,d,f,p,m,g;ie(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=o,g=s,no(f.x,p.x,m.x,g),no(f.y,p.y,m.y,g),r&&(h=this.relativeTarget,d=r,iH(h.x,d.x)&&iH(h.y,d.y))&&(this.isProjectionDirty=!1),r||(r=tA()),iM(r,this.relativeTarget)}l&&(this.animationValues=n,function(e,t,r,s,i,n){i?(e.opacity=J(0,r.opacity??1,iN(s)),e.opacityExit=J(t.opacity??1,0,i$(s))):n&&(e.opacity=J(t.opacity??1,r.opacity??1,s));for(let i=0;i<iR;i++){let n=`border${iP[i]}Radius`,a=iI(t,n),o=iI(r,n);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||iC(a)===iC(o)?(e[n]=Math.max(J(iO(a),iO(o),s),0),(ep.test(o)||ep.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||r.rotate)&&(e.rotate=J(t.rotate||0,r.rotate||0,s))}(n,i,this.latestValues,s,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(e$(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eN.update(()=>{var t,r,s;let i;ix.hasAnimatedSinceResize=!0,rC.layout++,this.motionValue||(this.motionValue=tb(0)),this.currentAnimation=(t=this.motionValue,r=[0,1e3],s={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{rC.layout--},onComplete:()=>{rC.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(i=tc(t)?t:tb(t)).start(sF("",i,r,s)),i.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:s,latestValues:i}=e;if(t&&r&&s){if(this!==e&&this.layout&&s&&nf(this.options.animationType,this.layout.layoutBox,s.layoutBox)){r=this.target||tA();let t=s4(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let s=s4(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+s}iM(t,r),en(t,i),s8(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new iZ),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let s=this.getStack();s&&s.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let s={};r.z&&i1("z",e,s,this.animationValues);for(let t=0;t<iQ.length;t++)i1(`rotate${iQ[t]}`,e,s,this.animationValues),i1(`skew${iQ[t]}`,e,s,this.animationValues);for(let t in e.render(),s)e.setStaticValue(t,s[t]),this.animationValues&&(this.animationValues[t]=s[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let r=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=rp(t?.pointerEvents)||"",e.transform=r?r(this.latestValues,""):"none";return}let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=rp(t?.pointerEvents)||""),this.hasProjected&&!Z(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1);return}e.visibility="";let i=s.animationValues||s.latestValues;this.applyTransformsToTarget();let n=function(e,t,r){let s="",i=e.x.translate/t.x,n=e.y.translate/t.y,a=r?.z||0;if((i||n||a)&&(s=`translate3d(${i}px, ${n}px, ${a}px) `),(1!==t.x||1!==t.y)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:n,skewX:a,skewY:o}=r;e&&(s=`perspective(${e}px) ${s}`),t&&(s+=`rotate(${t}deg) `),i&&(s+=`rotateX(${i}deg) `),n&&(s+=`rotateY(${n}deg) `),a&&(s+=`skewX(${a}deg) `),o&&(s+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(s+=`scale(${o}, ${l})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);r&&(n=r(i,n)),e.transform=n;let{x:a,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,s.animationValues?e.opacity=s===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=s===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0,tX){if(void 0===i[t])continue;let{correct:r,applyTo:a,isCSSVariable:o}=tX[t],l="none"===n?i[t]:r(i[t],s);if(a){let t=a.length;for(let r=0;r<t;r++)e[a[r]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=s===this?rp(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(i9),this.root.sharedNodes.clear()}}}function i5(e){e.updateLayout()}function i3(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,n=t.source!==e.layout.source;"size"===i?it(e=>{let s=n?t.measuredBox[e]:t.layoutBox[e],i=s4(s);s.min=r[e].min,s.max=s.min+i}):nf(i,t.layoutBox,r)&&it(s=>{let i=n?t.measuredBox[s]:t.layoutBox[s],a=s4(r[s]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+a)});let a=tT();s8(a,r,t.layoutBox);let o=tT();n?s8(o,e.applyTransform(s,!0),t.measuredBox):s8(o,r,t.layoutBox);let l=!iK(a),h=!1;if(!e.resumeFrom){let s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){let{snapshot:i,layout:n}=s;if(i&&n){let a=tA();ie(a,t.layoutBox,i.layoutBox);let o=tA();ie(o,r,n.layoutBox),iJ(a,o)||(h=!0),s.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:h})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function i4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function i6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function i8(e){e.clearSnapshot()}function i9(e){e.clearMeasurements()}function i7(e){e.isLayoutDirty=!1}function ne(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nt(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nr(e){e.resolveTargetDelta()}function ns(e){e.calcProjection()}function ni(e){e.resetSkewAndRotation()}function nn(e){e.removeLeadSnapshot()}function na(e,t,r){e.translate=J(t.translate,0,r),e.scale=J(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function no(e,t,r,s){e.min=J(t.min,r.min,s),e.max=J(t.max,r.max,s)}function nl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let nh={duration:.45,ease:[.4,0,.1,1]},nu=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nc=nu("applewebkit/")&&!nu("chrome/")?Math.round:eR;function nd(e){e.min=nc(e.min),e.max=nc(e.max)}function nf(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(iY(t)-iY(r)))}function np(e){return e!==e.root&&e.scroll?.wasRoot}let nm=i2({attachResizeListener:(e,t)=>s1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ng={current:void 0},ny=i2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ng.current){let e=new nm({});e.mount(window),e.setOptions({layoutScroll:!0}),ng.current=e}return ng.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function nv(e,t,r){if(e instanceof EventTarget)return[e];if("string"==typeof e){let s=document;t&&(s=t.current);let i=r?.[e]??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function nw(e,t){let r=nv(e),s=new AbortController;return[r,{passive:!0,...t,signal:s.signal},()=>s.abort()]}function nb(e){return!("touch"===e.pointerType||s0.x||s0.y)}function nx(e,t,r){let{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover","Start"===r);let i=s["onHover"+r];i&&eN.postRender(()=>i(t,s5(t)))}function n_(e){return iE(e)&&"offsetHeight"in e}let nk=(e,t)=>!!t&&(e===t||nk(e,t.parentElement)),nS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),nE=new WeakSet;function nT(e){return t=>{"Enter"===t.key&&e(t)}}function nj(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function nA(e){return s2(e)&&!(s0.x||s0.y)}function nP(e,t,r){let{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap","Start"===r);let i=s["onTap"+("End"===r?"":r)];i&&eN.postRender(()=>i(t,s5(t)))}let nR=new WeakMap,nO=new WeakMap,nC=e=>{let t=nR.get(e.target);t&&t(e)},nI=e=>{e.forEach(nC)},nN={some:0,all:1},n$=function(e,t){if("undefined"==typeof Proxy)return rk;let r=new Map,s=(r,s)=>rk(r,s,e,t);return new Proxy((e,t)=>s(e,t),{get:(i,n)=>"create"===n?s:(r.has(n)||r.set(n,rk(n,void 0,e,t)),r.get(n))})}({animation:{Feature:class extends sZ{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let s;if(e.notify("AnimationStart",t),Array.isArray(t))s=Promise.all(t.map(t=>sz(e,t,r)));else if("string"==typeof t)s=sz(e,t,r);else{let i="function"==typeof t?rS(e,t,r.custom):t;s=Promise.all(sW(e,i,r))}return s.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=sX(),s=!0,i=t=>(r,s)=>{let i=rS(e,s,"exit"===t?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...s}=i;r={...r,...s,...t}}return r};function n(n){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<sH;e++){let s=tD[e],i=t.props[s];(tN(i)||!1===i)&&(r[s]=i)}return r}(e.parent)||{},l=[],h=new Set,u={},c=1/0;for(let t=0;t<sJ;t++){var d,f;let p=sG[t],m=r[p],g=void 0!==a[p]?a[p]:o[p],y=tN(g),v=p===n?m.isActive:null;!1===v&&(c=t);let w=g===o[p]&&g!==a[p]&&y;if(w&&s&&e.manuallyAnimateOnMount&&(w=!1),m.protectedKeys={...u},!m.isActive&&null===v||!g&&!m.prevProp||tI(g)||"boolean"==typeof g)continue;let b=(d=m.prevProp,"string"==typeof(f=g)?f!==d:!!Array.isArray(f)&&!sK(f,d)),x=b||p===n&&m.isActive&&!w&&y||t>c&&y,_=!1,k=Array.isArray(g)?g:[g],S=k.reduce(i(p),{});!1===v&&(S={});let{prevResolvedValues:E={}}=m,T={...E,...S},j=t=>{x=!0,h.has(t)&&(_=!0,h.delete(t)),m.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in T){let t=S[e],r=E[e];if(!u.hasOwnProperty(e))(rT(t)&&rT(r)?sK(t,r):t===r)?void 0!==t&&h.has(e)?j(e):m.protectedKeys[e]=!0:null!=t?j(e):h.add(e)}m.prevProp=g,m.prevResolvedValues=S,m.isActive&&(u={...u,...S}),s&&e.blockInitialAnimation&&(x=!1);let A=w&&b,P=!A||_;x&&P&&l.push(...k.map(t=>{let r={type:p};if("string"==typeof t&&s&&!A&&e.manuallyAnimateOnMount&&e.parent){let{parent:s}=e,i=rS(s,t);if(s.enteringChildren&&i){let{delayChildren:t}=i.transition||{};r.delay=sq(s.enteringChildren,e,t)}}return{animation:t,options:r}}))}if(h.size){let t={};if("boolean"!=typeof a.initial){let r=rS(e,Array.isArray(a.initial)?a.initial[0]:a.initial);r&&r.transition&&(t.transition=r.transition)}h.forEach(r=>{let s=e.getBaseTarget(r),i=e.getValue(r);i&&(i.liveStyle=!0),t[r]=s??null}),l.push({animation:t})}let p=!!l.length;return s&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(p=!1),s=!1,p?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,s){if(r[t].isActive===s)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,s)),r[t].isActive=s;let i=n(t);for(let e in r)r[e].protectedKeys={};return i},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=sX()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();tI(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends sZ{constructor(){super(...arguments),this.id=sQ++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends sZ{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:r={}}=this.node.getProps(),{root:s,margin:i,amount:n="some",once:a}=r,o={root:s?s.current:void 0,rootMargin:i,threshold:"number"==typeof n?n:nN[n]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,a&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:s}=this.node.getProps(),i=t?r:s;i&&i(e)};return e=this.node.current,t=function({root:e,...t}){let r=e||document;nO.has(r)||nO.set(r,{});let s=nO.get(r),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(nI,{root:e,...t})),s[i]}(o),nR.set(e,l),t.observe(e),()=>{nR.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends sZ{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[s,i,n]=nw(e,r),a=e=>{let s=e.currentTarget;if(!nA(e))return;nE.add(s);let n=t(s,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),nE.has(s)&&nE.delete(s),nA(e)&&"function"==typeof n&&n(e,{success:t})},o=e=>{a(e,s===window||s===document||r.useGlobalTarget||nk(s,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return s.forEach(e=>{((r.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),n_(e))&&(e.addEventListener("focus",e=>((e,t)=>{let r=e.currentTarget;if(!r)return;let s=nT(()=>{if(nE.has(r))return;nj(r,"down");let e=nT(()=>{nj(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>nj(r,"cancel"),t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)})(e,i)),nS.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),n}(e,(e,t)=>(nP(this.node,t,"Start"),(e,{success:t})=>nP(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends sZ{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rR(s1(this.node.current,"focus",()=>this.onFocus()),s1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends sZ{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[s,i,n]=nw(e,r),a=e=>{if(!nb(e))return;let{target:r}=e,s=t(r,e);if("function"!=typeof s||!r)return;let n=e=>{nb(e)&&(s(e),r.removeEventListener("pointerleave",n))};r.addEventListener("pointerleave",n,i)};return s.forEach(e=>{e.addEventListener("pointerenter",a,i)}),n}(e,(e,t)=>(nx(this.node,t,"Start"),e=>nx(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends sZ{constructor(){super(...arguments),this.removePointerDownListener=eR}onPointerDown(e){this.session=new ii(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ir(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:iv(e),onStart:iv(t),onMove:r,onEnd:(e,t)=>{delete this.session,s&&eN.postRender(()=>s(e,t))}}}mount(){this.removePointerDownListener=s3(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends sZ{constructor(e){super(e),this.removeGroupControls=eR,this.removeListeners=eR,this.controls=new ig(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eR}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ny,MeasureLayout:iS},layout:{ProjectionNode:ny,MeasureLayout:iS}},(e,t)=>re(e)?new t9(t):new t0(t,{allowProjection:e!==R.Fragment}));function nD(e,t){let r,s=()=>{let{currentTime:s}=t,i=(null===s?0:s.value)/100;r!==i&&e(i),r=i};return eN.preUpdate(s,!0),()=>e$(s)}let nB=new WeakMap,nM=(e,t,r)=>(s,i)=>i&&i[0]?i[0][e+"Size"]:iT(s)&&"getBBox"in s?s.getBBox()[t]:s[r],nU=nM("inline","width","offsetWidth"),nL=nM("block","height","offsetHeight");function nV({target:e,borderBoxSize:t}){nB.get(e)?.forEach(r=>{r(e,{get width(){return nU(e,t)},get height(){return nL(e,t)}})})}function nF(e){e.forEach(nV)}let nW=new Set,nq=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),nz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function nK(e,t,r,s){let i=r[t],{length:n,position:a}=nz[t],o=i.current,l=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${n}`]-e[`client${n}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=sf(0,i.scrollLength,i.current);let h=s-l;i.velocity=h>50?0:ty(i.current-o,h)}let nH={start:0,center:.5,end:1};function nG(e,t,r=0){let s=0;if(e in nH&&(e=nH[e]),"string"==typeof e){let t=parseFloat(e);e.endsWith("px")?s=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?s=t/100*document.documentElement.clientWidth:e.endsWith("vh")?s=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(s=t*e),r+s}let nJ=[0,0],nY=[[0,0],[1,1]],nX={x:0,y:0},nZ=new WeakMap,nQ=new WeakMap,n0=new WeakMap,n1=e=>e===document.scrollingElement?window:e;function n2(e,{container:t=document.scrollingElement,...i}={}){if(!t)return eR;let n=n0.get(t);n||(n=new Set,n0.set(t,n));let a=function(e,t,r,s={}){return{measure:t=>{!function(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)r.x.targetOffset+=s.offsetLeft,r.y.targetOffset+=s.offsetTop,s=s.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}(e,s.target,r),nK(e,"x",r,t),nK(e,"y",r,t),r.time=t,(s.offset||s.target)&&function(e,t,r){let{offset:s=nY}=r,{target:i=e,axis:n="y"}=r,a="y"===n?"height":"width",o=i!==e?function(e,t){let r={x:0,y:0},s=e;for(;s&&s!==t;)if(n_(s))r.x+=s.offsetLeft,r.y+=s.offsetTop,s=s.offsetParent;else if("svg"===s.tagName){let e=s.getBoundingClientRect(),t=(s=s.parentElement).getBoundingClientRect();r.x+=e.left-t.left,r.y+=e.top-t.top}else if(s instanceof SVGGraphicsElement){let{x:e,y:t}=s.getBBox();r.x+=e,r.y+=t;let i=null,n=s.parentNode;for(;!i;)"svg"===n.tagName&&(i=n),n=s.parentNode;s=i}else break;return r}(i,e):nX,l=i===e?{width:e.scrollWidth,height:e.scrollHeight}:"getBBox"in i&&"svg"!==i.tagName?i.getBBox():{width:i.clientWidth,height:i.clientHeight},h={width:e.clientWidth,height:e.clientHeight};t[n].offset.length=0;let u=!t[n].interpolate,c=s.length;for(let e=0;e<c;e++){let r=function(e,t,r,s){let i=Array.isArray(e)?e:nJ,n=0;return"number"==typeof e?i=[e,e]:"string"==typeof e&&(i=(e=e.trim()).includes(" ")?e.split(" "):[e,nH[e]?e:"0"]),(n=nG(i[0],r,s))-nG(i[1],t)}(s[e],h[a],l[a],o[n]);u||r===t[n].interpolatorOffsets[e]||(u=!0),t[n].offset[e]=r}u&&(t[n].interpolate=sp(t[n].offset,sm(s),{clamp:!1}),t[n].interpolatorOffsets=[...t[n].offset]),t[n].progress=el(0,1,t[n].interpolate(t[n].current))}(e,r,s)},notify:()=>t(r)}}(t,e,{time:0,x:nq(),y:nq()},i);if(n.add(a),!nZ.has(t)){let e,i=()=>{for(let e of n)e.measure(eD.timestamp);eN.preUpdate(a)},a=()=>{for(let e of n)e.notify()},o=()=>eN.read(i);nZ.set(t,o);let l=n1(t);window.addEventListener("resize",o,{passive:!0}),t!==document.documentElement&&nQ.set(t,"function"==typeof t?(nW.add(t),s||(s=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};nW.forEach(t=>t(e))},window.addEventListener("resize",s)),()=>{nW.delete(t),nW.size||"function"!=typeof s||(window.removeEventListener("resize",s),s=void 0)}):(r||"undefined"!=typeof ResizeObserver&&(r=new ResizeObserver(nF)),(e=nv(t)).forEach(e=>{let t=nB.get(e);t||(t=new Set,nB.set(e,t)),t.add(o),r?.observe(e)}),()=>{e.forEach(e=>{let t=nB.get(e);t?.delete(o),t?.size||r?.unobserve(e)})})),l.addEventListener("scroll",o,{passive:!0}),o()}let o=nZ.get(t);return eN.read(o,!1,!0),()=>{e$(o);let e=n0.get(t);if(!e||(e.delete(a),e.size))return;let r=nZ.get(t);nZ.delete(t),r&&(n1(t).removeEventListener("scroll",r),nQ.get(t)?.(),window.removeEventListener("resize",r))}}let n5=new Map;function n3({source:e,container:t,...r}){var s;let i,n,{axis:a}=r;e&&(t=e);let o=n5.get(t)??new Map;n5.set(t,o);let l=r.target??"self",h=o.get(l)??{},u=a+(r.offset??[]).join(",");return h[u]||(h[u]=!r.target&&sE()?new ScrollTimeline({source:t,axis:a}):(s={container:t,...r},i={value:0},n=n2(e=>{i.value=100*e[s.axis].progress},s),{currentTime:i,cancel:n})),h[u]}let n4=()=>({scrollX:tb(0),scrollY:tb(0),scrollXProgress:tb(0),scrollYProgress:tb(0)}),n6=e=>!!e&&!e.current;function n8(e){let t=rf(()=>tb(e)),{isStatic:r}=(0,R.useContext)(rs);if(r){let[,r]=(0,R.useState)(e);(0,R.useEffect)(()=>t.on("change",r),[])}return t}function n9(e,t){let r=n8(t()),s=()=>r.set(t());return s(),r_(()=>{let t=()=>eN.preRender(s,!1,!0),r=e.map(e=>e.on("change",t));return()=>{r.forEach(e=>e()),e$(s)}}),r}function n7(e,t,r,s){if("function"==typeof e){let t;return tv.current=[],e(),t=n9(tv.current,e),tv.current=void 0,t}let i="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),r=t?0:-1,s=e[0+r],i=sp(e[1+r],e[2+r],e[3+r]);return t?i(s):i}(t,r,s);return Array.isArray(e)?ae(e,i):ae([e],([e])=>i(e))}function ae(e,t){let r=rf(()=>[]);return n9(e,()=>{r.length=0;let s=e.length;for(let t=0;t<s;t++)r[t]=e[t].get();return t(r)})}function at(e){return"number"==typeof e?e:parseFloat(e)}function ar(e,t={}){let{isStatic:r}=(0,R.useContext)(rs),s=()=>tc(e)?e.get():e;if(r)return n7(s);let i=n8(s());return(0,R.useInsertionEffect)(()=>(function(e,t,r){let s,i=e.get(),n=null,a=i,o="string"==typeof i?i.replace(/[\d.-]/g,""):void 0,l=()=>{n&&(n.stop(),n=null)},h=()=>{l(),n=new sk({keyframes:[at(e.get()),at(a)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:s})};if(e.attach((e,t)=>{a=e,s=e=>{var r,s;return t((r=e,(s=o)?r+s:r))},eN.postRender(h)},l),tc(t)){let r=t.on("change",t=>{var r,s;return e.set((r=t,(s=o)?r+s:r))}),s=e.on("destroy",r);return()=>{r(),s()}}return l})(i,e,t),[i,JSON.stringify(t)]),i}var as=R;function ai(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class an extends as.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=n_(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aa({children:e,isPresent:t,anchorX:r,root:s}){let i=(0,as.useId)(),n=(0,as.useRef)(null),a=(0,as.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,as.useContext)(rs),l=function(...e){return R.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=ai(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():ai(e[t],null)}}}}(...e),e)}(n,e?.ref);return(0,as.useInsertionEffect)(()=>{let{width:e,height:l,top:h,left:u,right:c}=a.current;if(t||!n.current||!e||!l)return;let d="left"===r?`left: ${u}`:`right: ${c}`;n.current.dataset.motionPopId=i;let f=document.createElement("style");o&&(f.nonce=o);let p=s??document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${l}px !important;
            ${d}px !important;
            top: ${h}px !important;
          }
        `),()=>{p.contains(f)&&p.removeChild(f)}},[t]),(0,A.jsx)(an,{isPresent:t,childRef:n,sizeRef:a,children:as.cloneElement(e,{ref:l})})}let ao=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:n,mode:a,anchorX:o,root:l})=>{let h=rf(al),u=(0,R.useId)(),c=!0,d=(0,R.useMemo)(()=>(c=!1,{id:u,initial:t,isPresent:r,custom:i,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;s&&s()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[r,h,s]);return n&&c&&(d={...d}),(0,R.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[r]),R.useEffect(()=>{r||h.size||!s||s()},[r]),"popLayout"===a&&(e=(0,A.jsx)(aa,{isPresent:r,anchorX:o,root:l,children:e})),(0,A.jsx)(rd.Provider,{value:d,children:e})};function al(){return new Map}let ah=e=>e.key||"";function au(e){let t=[];return R.Children.forEach(e,e=>{(0,R.isValidElement)(e)&&t.push(e)}),t}let ac=({children:e,custom:t,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:n="sync",propagate:a=!1,anchorX:o="left",root:l})=>{let[h,u]=ib(a),c=(0,R.useMemo)(()=>au(e),[e]),d=a&&!h?[]:c.map(ah),f=(0,R.useRef)(!0),p=(0,R.useRef)(c),m=rf(()=>new Map),[g,y]=(0,R.useState)(c),[v,w]=(0,R.useState)(c);r_(()=>{f.current=!1,p.current=c;for(let e=0;e<v.length;e++){let t=ah(v[e]);d.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[v,d.length,d.join("-")]);let b=[];if(c!==g){let e=[...c];for(let t=0;t<v.length;t++){let r=v[t],s=ah(r);d.includes(s)||(e.splice(t,0,r),b.push(r))}return"wait"===n&&b.length&&(e=b),w(au(e)),y(c),null}let{forceRender:x}=(0,R.useContext)(rt);return(0,A.jsx)(A.Fragment,{children:v.map(e=>{let g=ah(e),y=(!a||!!h)&&(c===v||d.includes(g));return(0,A.jsx)(ao,{isPresent:y,initial:(!f.current||!!r)&&void 0,custom:t,presenceAffectsLayout:i,mode:n,root:l,onExitComplete:y?void 0:()=>{if(!m.has(g))return;m.set(g,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(x?.(),w(p.current),a&&u?.(),s&&s())},anchorX:o,children:e},g)})})},ad=()=>{let e,t,r,s,i,n,a,o,l,h,u,c,d,f=(0,P.c)(30),[p,m]=(0,R.useState)(!1),g=n8(-100),y=n8(-100);f[0]===Symbol.for("react.memo_cache_sentinel")?(e={damping:30,stiffness:250,mass:.5},f[0]=e):e=f[0];let v=e,w=ar(g,v),b=ar(y,v);f[1]!==g||f[2]!==y?(t=()=>{let e=e=>{g.set(e.clientX),y.set(e.clientY);let t=e.target;m(!!(t.closest("button")||t.closest("a")||t.closest('[data-hover="true"]')))};return window.addEventListener("mousemove",e,{passive:!0}),()=>window.removeEventListener("mousemove",e)},r=[g,y],f[1]=g,f[2]=y,f[3]=t,f[4]=r):(t=f[3],r=f[4]),(0,R.useEffect)(t,r),f[5]!==w||f[6]!==b?(s={x:w,y:b,translateX:"-50%",translateY:"-50%"},f[5]=w,f[6]=b,f[7]=s):s=f[7];let x=p?100:40,_=p?100:40,k=p?.3:1;f[8]!==x||f[9]!==_||f[10]!==k?(i={width:x,height:_,opacity:k},f[8]=x,f[9]=_,f[10]=k,f[11]=i):i=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(n={type:"spring",stiffness:300,damping:30},f[12]=n):n=f[12],f[13]!==p?(a=p&&(0,A.jsx)(n$.span,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"text-black font-extrabold text-[10px] uppercase tracking-widest",children:"Smooth"}),f[13]=p,f[14]=a):a=f[14],f[15]!==a?(o=(0,A.jsx)(ac,{children:a}),f[15]=a,f[16]=o):o=f[16],f[17]!==o||f[18]!==i?(l=(0,A.jsx)(n$.div,{className:"rounded-full bg-white border border-white flex items-center justify-center",animate:i,transition:n,children:o}),f[17]=o,f[18]=i,f[19]=l):l=f[19];let S=p?1.5:1,E=180*!!p;return f[20]!==S||f[21]!==E?(h={scale:S,rotate:E},f[20]=S,f[21]=E,f[22]=h):h=f[22],f[23]===Symbol.for("react.memo_cache_sentinel")?(u={duration:.8},f[23]=u):u=f[23],f[24]!==h?(c=(0,A.jsx)(n$.div,{className:"absolute w-20 h-20 border border-white rounded-full opacity-20",animate:h,transition:u}),f[24]=h,f[25]=c):c=f[25],f[26]!==l||f[27]!==c||f[28]!==s?(d=(0,A.jsxs)(n$.div,{className:"fixed top-0 left-0 z-[9999] pointer-events-none mix-blend-difference hidden md:flex items-center justify-center will-change-transform",style:s,children:[l,c]}),f[26]=l,f[27]=c,f[28]=s,f[29]=d):d=f[29],d},af=()=>{let e,t,r,s=(0,P.c)(3);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,A.jsx)(n$.div,{className:"absolute top-[-20%] left-[-10%] w-[100vw] h-[100vw] bg-[#FFF8E1] rounded-full mix-blend-multiply filter blur-[100px] opacity-60",animate:{x:[0,100,-50,0],y:[0,-50,100,0]},transition:{duration:30,repeat:1/0,ease:"linear"}}),s[0]=e):e=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,A.jsx)(n$.div,{className:"absolute top-[20%] right-[-20%] w-[80vw] h-[80vw] bg-[#FFECB3] rounded-full mix-blend-multiply filter blur-[120px] opacity-40",animate:{x:[0,-100,50,0],y:[0,100,-50,0]},transition:{duration:35,repeat:1/0,ease:"easeInOut"}}),s[1]=t):t=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,A.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden bg-[#FFFDF5]",children:[e,t,(0,A.jsx)(n$.div,{className:"absolute bottom-[-20%] left-[20%] w-[90vw] h-[90vw] bg-[#FFF9C4] rounded-full mix-blend-multiply filter blur-[110px] opacity-50",animate:{x:[0,120,-120,0],y:[0,-80,80,0]},transition:{duration:40,repeat:1/0,ease:"easeInOut"}}),(0,A.jsx)("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/p6.png')] opacity-10 pointer-events-none"}),(0,A.jsx)("div",{className:"absolute inset-0 bg-radial-gradient from-transparent to-white/30 pointer-events-none"})]}),s[2]=r):r=s[2],r},ap=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},am=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var ag={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let ay=(0,R.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:n,iconNode:a,...o},l)=>(0,R.createElement)("svg",{ref:l,...ag,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:am("lucide",i),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...a.map(([e,t])=>(0,R.createElement)(e,t)),...Array.isArray(n)?n:[n]])),av=(e,t)=>{let r=(0,R.forwardRef)(({className:r,...s},i)=>(0,R.createElement)(ay,{ref:i,iconNode:t,className:am(`lucide-${ap(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...s}));return r.displayName=ap(e),r},aw=av("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ab=av("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ax=av("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),a_=av("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ak=av("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),aS=av("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),aE=av("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),aT=av("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),aj=e=>{let t,r,s,i,n,a,o,l,h,u=(0,P.c)(16),{text:c,className:d}=e,f=`relative inline-block font-black tracking-tighter italic ${void 0===d?"":d}`;return u[0]===Symbol.for("react.memo_cache_sentinel")?(t={backgroundPosition:["0% center","200% center"]},r={duration:8,repeat:1/0,ease:"linear"},u[0]=t,u[1]=r):(t=u[0],r=u[1]),u[2]===Symbol.for("react.memo_cache_sentinel")?(s={WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},u[2]=s):s=u[2],u[3]!==c?(i=(0,A.jsx)(n$.span,{className:"absolute inset-0 z-10 block bg-gradient-to-r from-[#B47000] via-[#F59E0B] to-[#B47000] bg-[length:200%_auto] bg-clip-text text-transparent",animate:t,transition:r,"aria-hidden":"true",style:s,children:c}),u[3]=c,u[4]=i):i=u[4],u[5]===Symbol.for("react.memo_cache_sentinel")?(n={WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},u[5]=n):n=u[5],u[6]!==c?(a=(0,A.jsx)("span",{className:"block text-transparent bg-clip-text bg-[#F59E0B] opacity-20",style:n,children:c}),u[6]=c,u[7]=a):a=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(o={WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},u[8]=o):o=u[8],u[9]!==c?(l=(0,A.jsx)("span",{className:"absolute inset-0 -z-10 block bg-[#F59E0B] bg-clip-text text-transparent blur-2xl opacity-10",style:o,children:c}),u[9]=c,u[10]=l):l=u[10],u[11]!==l||u[12]!==f||u[13]!==i||u[14]!==a?(h=(0,A.jsxs)("span",{className:f,children:[i,a,l]}),u[11]=l,u[12]=f,u[13]=i,u[14]=a,u[15]=h):h=u[15],h};class aA extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class aP extends aA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aR extends aA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class aO extends aA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(o=y||(y={})).Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2";function aC(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)0>t.indexOf(s[i])&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r}"function"==typeof SuppressedError&&SuppressedError;class aI{constructor(e,{headers:t={},customFetch:r,region:s=y.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){var t,r,s,i;return t=this,r=arguments,s=void 0,i=function*(e,t={}){var r;let s,i;try{let n,{headers:a,method:o,body:l,signal:h,timeout:u}=t,c={},{region:d}=t;d||(d=this.region);let f=new URL(`${this.url}/${e}`);d&&"any"!==d&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d)),l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?"undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",n=l):"string"==typeof l?(c["Content-Type"]="text/plain",n=l):"undefined"!=typeof FormData&&l instanceof FormData?n=l:(c["Content-Type"]="application/json",n=JSON.stringify(l)):n=l;let p=h;u&&(i=new AbortController,s=setTimeout(()=>i.abort(),u),h?(p=i.signal,h.addEventListener("abort",()=>i.abort())):p=i.signal);let m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:n,signal:p}).catch(e=>{throw new aP(e)}),g=m.headers.get("x-relay-error");if(g&&"true"===g)throw new aR(m);if(!m.ok)throw new aO(m);let y=(null!=(r=m.headers.get("Content-Type"))?r:"text/plain").split(";")[0].trim();return{data:"application/json"===y?yield m.json():"application/octet-stream"===y||"application/pdf"===y?yield m.blob():"text/event-stream"===y?m:"multipart/form-data"===y?yield m.formData():yield m.text(),error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof aO||e instanceof aR?e.context:void 0}}finally{s&&clearTimeout(s)}},new(s||(s=Promise))(function(e,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof s?r:new s(function(e){e(r)})).then(a,o)}l((i=i.apply(t,r||[])).next())})}}var aN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},a$=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!=(t=e.shouldThrowOnError)&&t,this.signal=e.signal,this.isMaybeSingle=null!=(r=e.isMaybeSingle)&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,s,i,n;let a=null,o=null,l=null,h=e.status,u=e.statusText;if(e.ok){if("HEAD"!==r.method){let t=await e.text();""===t||(o="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null==(i=r.headers.get("Accept"))?void 0:i.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}let n=null==(t=r.headers.get("Prefer"))?void 0:t.match(/count=(exact|planned|estimated)/),c=null==(s=e.headers.get("content-range"))?void 0:s.split("/");n&&c&&c.length>1&&(l=parseInt(c[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,h=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,h=200,u="OK")}catch(r){404===e.status&&""===t?(h=204,u="No Content"):a={message:t}}if(a&&r.isMaybeSingle&&(null==a||null==(n=a.details)?void 0:n.includes("0 rows"))&&(a=null,h=200,u="OK"),a&&r.shouldThrowOnError)throw new aN(a)}return{error:a,data:o,count:l,status:h,statusText:u}});return this.shouldThrowOnError||(s=s.catch(e=>{var t,r,s,i,n,a;let o="",l=null==e?void 0:e.cause;if(l){let t=null!=(r=null==l?void 0:l.message)?r:"",a=null!=(s=null==l?void 0:l.code)?s:"";o=`${null!=(i=null==e?void 0:e.name)?i:"FetchError"}: ${null==e?void 0:e.message}

Caused by: ${null!=(n=null==l?void 0:l.name)?n:"Error"}: ${t}`,a&&(o+=` (${a})`),(null==l?void 0:l.stack)&&(o+=`
${l.stack}`)}else o=null!=(a=null==e?void 0:e.stack)?a:"";return{error:{message:`${null!=(t=null==e?void 0:e.name)?t:"FetchError"}: ${null==e?void 0:e.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},aD=class extends a${select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){let n=i?`${i}.order`:"order",a=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){let i=void 0===s?"offset":`${s}.offset`,n=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(n,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:n="text"}={}){var a;let o=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!=(a=this.headers.get("Accept"))?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};let aB=RegExp("[,()]");var aM=class extends aD{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&aB.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&aB.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let i="";"plain"===s?i="pl":"phrase"===s?i="ph":"websearch"===s&&(i="w");let n=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},aU=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}select(e,t){let{head:r=!1,count:s}=null!=t?t:{},i=!1,n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",n),s&&this.headers.append("Prefer",`count=${s}`),new aM({method:r?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new aM({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(s=this.fetch)?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var n;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new aM({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(n=this.fetch)?n:fetch})}update(e,{count:t}={}){var r;return t&&this.headers.append("Prefer",`count=${t}`),new aM({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(r=this.fetch)?r:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new aM({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!=(t=this.fetch)?t:fetch})}},aL=class e{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=s}from(e){if(!e||"string"!=typeof e||""===e.trim())throw Error("Invalid relation name: relation must be a non-empty string.");return new aU(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:i}={}){var n;let a,o,l=new URL(`${this.url}/rpc/${e}`);r||s?(a=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(a="POST",o=t);let h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new aM({method:a,url:l,headers:h,schema:this.schemaName,body:o,fetch:null!=(n=this.fetch)?n:fetch})}};let aV=class{static detectEnvironment(){var t;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==e.g.WebSocket)return{type:"native",constructor:e.g.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null==(t=navigator.userAgent)?void 0:t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(void 0!==e_.default){let e=e_.default.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},aF="1.0.0";(l=v||(v={}))[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed",(h=w||(w={})).closed="closed",h.errored="errored",h.joined="joined",h.joining="joining",h.leaving="leaving",(u=b||(b={})).close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token",(x||(x={})).websocket="websocket",(c=_||(_={})).Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed";class aW{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){return e.event!==this.BROADCAST_EVENT||e.payload instanceof ArrayBuffer||"string"!=typeof e.payload.event?t(JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload])):t(this._binaryEncodeUserBroadcastPush(e))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null==(t=e.payload)?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;let s=null!=(r=null==(t=e.payload)?void 0:t.payload)?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var t,r;let s=null!=(r=null==(t=e.payload)?void 0:t.payload)?r:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,t,r){let s=e.topic,i=null!=(f=e.ref)?f:"",n=null!=(p=e.join_ref)?p:"",a=e.payload.event,o=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},l=0===Object.keys(o).length?"":JSON.stringify(o);if(n.length>255)throw Error(`joinRef length ${n.length} exceeds maximum of 255`);if(i.length>255)throw Error(`ref length ${i.length} exceeds maximum of 255`);if(s.length>255)throw Error(`topic length ${s.length} exceeds maximum of 255`);if(a.length>255)throw Error(`userEvent length ${a.length} exceeds maximum of 255`);if(l.length>255)throw Error(`metadata length ${l.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+n.length+i.length+s.length+a.length+l.length,u=new ArrayBuffer(this.HEADER_LENGTH+h),c=new DataView(u),d=0;c.setUint8(d++,this.KINDS.userBroadcastPush),c.setUint8(d++,n.length),c.setUint8(d++,i.length),c.setUint8(d++,s.length),c.setUint8(d++,a.length),c.setUint8(d++,l.length),c.setUint8(d++,t),Array.from(n,e=>c.setUint8(d++,e.charCodeAt(0))),Array.from(i,e=>c.setUint8(d++,e.charCodeAt(0))),Array.from(s,e=>c.setUint8(d++,e.charCodeAt(0))),Array.from(a,e=>c.setUint8(d++,e.charCodeAt(0))),Array.from(l,e=>c.setUint8(d++,e.charCodeAt(0)));var f,p,m=new Uint8Array(u.byteLength+r.byteLength);return m.set(new Uint8Array(u),0),m.set(new Uint8Array(r),u.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if("string"==typeof e){let[r,s,i,n,a]=JSON.parse(e);return t({join_ref:r,ref:s,topic:i,event:n,payload:a})}return t({})}_binaryDecode(e){let t=new DataView(e),r=t.getUint8(0),s=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,s)}_decodeUserBroadcast(e,t,r){let s=t.getUint8(1),i=t.getUint8(2),n=t.getUint8(3),a=t.getUint8(4),o=this.HEADER_LENGTH+4,l=r.decode(e.slice(o,o+s));o+=s;let h=r.decode(e.slice(o,o+i));o+=i;let u=r.decode(e.slice(o,o+n));o+=n;let c=e.slice(o,e.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(c)):c,f={type:this.BROADCAST_EVENT,event:h,payload:d};return n>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||(null==(t=null==e?void 0:e.constructor)?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class aq{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(d=k||(k={})).abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange";let az=(e,t,r={})=>{var s;let i=null!=(s=r.skipTypes)?s:[];return t?Object.keys(t).reduce((r,s)=>(r[s]=aK(s,e,t,i),r),{}):{}},aK=(e,t,r,s)=>{let i=t.find(t=>t.name===e),n=null==i?void 0:i.type,a=r[e];return n&&!s.includes(n)?aH(n,a):aG(a)},aH=(e,t)=>{if("_"===e.charAt(0))return aZ(t,e.slice(1,e.length));switch(e){case k.bool:return aJ(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return aY(t);case k.json:case k.jsonb:return aX(t);case k.timestamp:return aQ(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return aG(t)}},aG=e=>e,aJ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},aY=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},aX=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e},aZ=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,s=e[r];if("{"===e[0]&&"}"===s){let s,i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch(e){s=i?i.split(","):[]}return s.map(e=>aH(t,e))}return e},aQ=e=>"string"==typeof e?e.replace(" ","T"):e,a0=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class a1{constructor(e,t,r={},s=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null==(r=this.receivedResp)?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(f=S||(S={})).SYNC="sync",f.JOIN="join",f.LEAVE="leave";class a2{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=a2.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=a2.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=a2.syncDiff(this.state,e,t,r),s())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){let i=this.cloneDeep(e),n=this.transformState(t),a={},o={};return this.map(i,(e,t)=>{n[e]||(o[e]=t)}),this.map(n,(e,t)=>{let r=i[e];if(r){let s=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),n=t.filter(e=>0>i.indexOf(e.presence_ref)),l=r.filter(e=>0>s.indexOf(e.presence_ref));n.length>0&&(a[e]=n),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(i,{joins:a,leaves:o},r,s)}static syncDiff(e,t,r,s){let{joins:i,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(t,s)=>{var i;let n=null!=(i=e[t])?i:[];if(e[t]=this.cloneDeep(s),n.length>0){let r=e[t].map(e=>e.presence_ref),s=n.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...s)}r(t,n,s)}),this.map(n,(t,r)=>{let i=e[t];if(!i)return;let n=r.map(e=>e.presence_ref);i=i.filter(e=>0>n.indexOf(e.presence_ref)),e[t]=i,s(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let s=e[r];return"metas"in s?t[r]=s.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(p=E||(E={})).ALL="*",p.INSERT="INSERT",p.UPDATE="UPDATE",p.DELETE="DELETE",(m=T||(T={})).BROADCAST="broadcast",m.PRESENCE="presence",m.POSTGRES_CHANGES="postgres_changes",m.SYSTEM="system",(g=j||(j={})).SUBSCRIBED="SUBSCRIBED",g.TIMED_OUT="TIMED_OUT",g.CLOSED="CLOSED",g.CHANNEL_ERROR="CHANNEL_ERROR";class a5{constructor(e,t={config:{}},r){var s,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=w.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new a1(this,b.join,this.params,this.timeout),this.rejoinTimer=new aq(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=w.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=w.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this._on(b.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new a2(this),this.broadcastEndpointURL=a0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(i=null==(s=this.params.config)?void 0:s.broadcast)?void 0:i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==w.closed){let{config:{broadcast:n,presence:a,private:o}}=this.params,l=null!=(s=null==(r=this.bindings.postgres_changes)?void 0:r.map(e=>e.filter))?s:[],h=!!this.bindings[T.PRESENCE]&&this.bindings[T.PRESENCE].length>0||(null==(i=this.params.config.presence)?void 0:i.enabled)===!0,u={},c={broadcast:n,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(j.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(j.CLOSED)),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0===t){null==e||e(j.SUBSCRIBED);return}{let s=this.bindings.postgres_changes,i=null!=(r=null==s?void 0:s.length)?r:0,n=[];for(let r=0;r<i;r++){let i=s[r],{filter:{event:a,schema:o,table:l,filter:h}}=i,u=t&&t[r];if(u&&u.event===a&&a5.isFilterValueEqual(u.schema,o)&&a5.isFilterValueEqual(u.table,l)&&a5.isFilterValueEqual(u.filter,h))n.push(Object.assign(Object.assign({},i),{id:u.id}));else{this.unsubscribe(),this.state=w.errored,null==e||e(j.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=n,e&&e(j.SUBSCRIBED);return}}).receive("error",t=>{this.state=w.errored,null==e||e(j.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(j.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===w.joined&&e===T.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var s;if(null==t)return Promise.reject("Payload is required for httpSend()");let i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let n={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,n,null!=(s=r.timeout)?s:this.timeout);if(202===a.status)return{success:!0};let o=a.statusText;try{let e=await a.json();o=e.error||e.message||o}catch(e){}return Promise.reject(Error(o))}async send(e,t={}){var r,s;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var s,i,n;let a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null==(n=null==(i=null==(s=this.params)?void 0:s.config)?void 0:i.broadcast)?void 0:n.ack)||r("ok"),a.receive("ok",()=>r("ok")),a.receive("error",()=>r("error")),a.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:n}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:n,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!=(r=t.timeout)?r:this.timeout);return await (null==(s=e.body)?void 0:s.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=w.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(b.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{(r=new a1(this,b.leave,{},e)).receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=w.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){let s=new AbortController,i=setTimeout(()=>s.abort(),r),n=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),n}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new a1(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,i;let n=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:h}=b;if(r&&[a,o,l,h].indexOf(n)>=0&&r!==this._joinRef())return;let u=this._onMessage(n,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null==(s=this.bindings.postgres_changes)||s.filter(e=>{var t,r,s;return(null==(t=e.filter)?void 0:t.event)==="*"||(null==(s=null==(r=e.filter)?void 0:r.event)?void 0:s.toLocaleLowerCase())===n}).map(e=>e.callback(u,r)):null==(i=this.bindings[n])||i.filter(e=>{var r,s,i,a,o,l;if(!["broadcast","presence","postgres_changes"].includes(n))return e.type.toLocaleLowerCase()===n;if("id"in e){let n=e.id,a=null==(r=e.filter)?void 0:r.event;return n&&(null==(s=t.ids)?void 0:s.includes(n))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null==(i=t.data)?void 0:i.type.toLocaleLowerCase()))}{let r=null==(o=null==(a=null==e?void 0:e.filter)?void 0:a.event)?void 0:o.toLocaleLowerCase();return"*"===r||r===(null==(l=null==t?void 0:t.event)?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof u&&"ids"in u){let e=u.data,{schema:t,table:r,commit_timestamp:s,type:i,errors:n}=e;u=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:s,eventType:i,new:{},old:{},errors:n}),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===w.closed}_isJoined(){return this.state===w.joined}_isJoining(){return this.state===w.joining}_isLeaving(){return this.state===w.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var s;return!((null==(s=e.type)?void 0:s.toLocaleLowerCase())===r&&a5.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(b.close,{},e)}_onError(e){this._on(b.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=w.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=az(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=az(e.columns,e.old_record)),t}}let a3=()=>{},a4=[1e3,2e3,5e3,1e4],a6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a8{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=a3,this.ref=0,this.reconnectTimer=null,this.vsn=aF,this.logger=a3,this.conn=null,this.sendBuffer=[],this.serializer=new aW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null==(r=null==t?void 0:t.params)?void 0:r.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${x.websocket}`,this.httpEndpoint=a0(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aV.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case v.connecting:return _.Connecting;case v.open:return _.Open;case v.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let r=`realtime:${e}`,s=this.getChannels().find(e=>e.topic===r);if(s)return s;{let r=new a5(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){let{topic:t,event:r,payload:s,ref:i}=e,n=()=>{this.encode(e,e=>{var t;null==(t=this.conn)||t.send(e)})};this.log("push",`${t} ${r} (${i})`,s),this.isConnected()?n():this.sendBuffer.push(n)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null==(e=this.conn)||e.close(1e3,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null==(e=this.reconnectTimer)||e.scheduleTimeout()},100);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(e){this.log("error","error in heartbeat callback",e)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:t,event:r,payload:s,ref:i}=e,n=i?`(${i})`:"",a=s.status||"";this.log("receive",`${a} ${t} ${r} ${n}`.trim(),s),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,s,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null==(t=this.reconnectTimer)||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===v.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===v.open||this.conn.readyState===v.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(t=this.reconnectTimer)||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(b.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([a6],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log("error","Error fetching access token from callback",e),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let r={access_token:t,version:"realtime-js/2.89.0"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(b.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new aq(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},10)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,i,n,a,o,l,h,u,c,d;switch(this.transport=null!=(t=null==e?void 0:e.transport)?t:null,this.timeout=null!=(r=null==e?void 0:e.timeout)?r:1e4,this.heartbeatIntervalMs=null!=(s=null==e?void 0:e.heartbeatIntervalMs)?s:25e3,this.worker=null!=(i=null==e?void 0:e.worker)&&i,this.accessToken=null!=(n=null==e?void 0:e.accessToken)?n:null,this.heartbeatCallback=null!=(a=null==e?void 0:e.heartbeatCallback)?a:a3,this.vsn=null!=(o=null==e?void 0:e.vsn)?o:aF,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(l=null==e?void 0:e.reconnectAfterMs)?l:e=>a4[e-1]||1e4,this.vsn){case aF:this.encode=null!=(h=null==e?void 0:e.encode)?h:(e,t)=>t(JSON.stringify(e)),this.decode=null!=(u=null==e?void 0:e.decode)?u:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!=(c=null==e?void 0:e.encode)?c:this.serializer.encode.bind(this.serializer),this.decode=null!=(d=null==e?void 0:e.decode)?d:this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var a9=e.i(15404),a7=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};async function oe(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}function ot(e){return e.join("\x1f")}var or=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:ot(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ot(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ot(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ot(e.namespace)}`}),!0}catch(e){if(e instanceof a7&&404===e.status)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof a7&&409===e.status)return;throw e}}};function os(e){return e.join("\x1f")}var oi=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${os(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${os(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){let r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${os(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${os(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${os(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${os(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof a7&&404===e.status)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof a7&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},on=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=function(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:i,body:n,headers:a}){let o=function(e,t,r){let s=new URL(t,e);if(r)for(let[e,t]of Object.entries(r))void 0!==t&&s.searchParams.set(e,t);return s.toString()}(e.baseUrl,s,i),l=await oe(e.auth),h=await t(o,{method:r,headers:{...n?{"Content-Type":"application/json"}:{},...l,...a},body:n?JSON.stringify(n):void 0}),u=await h.text(),c=(h.headers.get("content-type")||"").includes("application/json"),d=c&&u?JSON.parse(u):u;if(!h.ok){let e=c?d:void 0,t=e?.error;throw new a7(t?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:h.status,headers:h.headers,data:d}}}}({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new or(this.client,t),this.tableOps=new oi(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},oa=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function oo(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var ol=class extends oa{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},oh=class extends oa{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};let ou=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),oc=e=>{if(Array.isArray(e))return e.map(e=>oc(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,r])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=oc(r)}),t};function od(e){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function of(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?of(Object(r),!0).forEach(function(t){!function(e,t,r){var s;(s=function(e,t){if("object"!=od(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=od(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==od(s)?s:s+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):of(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let om=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null==(t=e.error)?void 0:t.message)||JSON.stringify(e)},og=async(e,t,r)=>{e instanceof await Response&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{let s=e.status||500,i=(null==r?void 0:r.statusCode)||s+"";t(new ol(om(r),s,i))}).catch(e=>{t(new oh(om(e),e))}):t(new oh(om(e),e))};async function oy(e,t,r,s,i,n){return new Promise((a,o)=>{let l;e(r,(l={method:t,headers:(null==s?void 0:s.headers)||{}},"GET"===t||!n?l:((e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(l.headers=op({"Content-Type":"application/json"},null==s?void 0:s.headers),l.body=JSON.stringify(n)):l.body=n,(null==s?void 0:s.duplex)&&(l.duplex=s.duplex),op(op({},l),i)))).then(e=>{if(!e.ok)throw e;return(null==s?void 0:s.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>og(e,o,s))})}async function ov(e,t,r,s){return oy(e,"GET",t,r,s)}async function ow(e,t,r,s,i){return oy(e,"POST",t,s,i,r)}async function ob(e,t,r,s,i){return oy(e,"PUT",t,s,i,r)}async function ox(e,t,r,s){return oy(e,"HEAD",t,op(op({},r),{},{noResolveJson:!0}),s)}async function o_(e,t,r,s,i){return oy(e,"DELETE",t,s,i,r)}var ok=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}};i=Symbol.toStringTag;var oS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[i]="BlobDownloadBuilder",this.promise=null}asStream(){return new ok(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await (await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}};let oE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var oj=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ou(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,s){try{let i,n=op(op({},oT),s),a=op(op({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)}),o=n.metadata;"undefined"!=typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",n.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?((i=r).has("cacheControl")||i.append("cacheControl",n.cacheControl),o&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(o))):(i=r,a["cache-control"]=`max-age=${n.cacheControl}`,a["content-type"]=n.contentType,o&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(o))),("undefined"!=typeof ReadableStream&&i instanceof ReadableStream||i&&"object"==typeof i&&"pipe"in i&&"function"==typeof i.pipe)&&!n.duplex&&(n.duplex="half")),(null==s?void 0:s.headers)&&(a=op(op({},a),s.headers));let l=this._removeEmptyFolders(t),h=this._getFinalPath(l),u=await ("PUT"==e?ob:ow)(this.fetch,`${this.url}/object/${h}`,i,op({headers:a},(null==n?void 0:n.duplex)?{duplex:n.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){let i=this._removeEmptyFolders(e),n=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${n}`);a.searchParams.set("token",t);try{let e,t=op({upsert:oT.upsert},s),n=op(op({},this.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,n["cache-control"]=`max-age=${t.cacheControl}`,n["content-type"]=t.contentType),{data:{path:i,fullPath:(await ob(this.fetch,a.toString(),e,{headers:n})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async createSignedUploadUrl(e,t){try{let r=this._getFinalPath(e),s=op({},this.headers);(null==t?void 0:t.upsert)&&(s["x-upsert"]="true");let i=await ow(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),n=new URL(this.url+i.url),a=n.searchParams.get("token");if(!a)throw new oa("No token returned by API");return{data:{signedUrl:n.toString(),path:e,token:a},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){try{return{data:await ow(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async copy(e,t,r){try{return{data:{path:(await ow(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async createSignedUrl(e,t,r){try{let s=this._getFinalPath(e),i=await ow(this.fetch,`${this.url}/object/sign/${s}`,op({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers}),n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${n}`)},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async createSignedUrls(e,t,r){var s=this;try{let i=await ow(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(e=>op(op({},e),{},{signedUrl:e.signedURL?encodeURI(`${s.url}${e.signedURL}${n}`):null})),error:null}}catch(e){if(s.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}download(e,t){let r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=s?`?${s}`:"",n=this._getFinalPath(e);return new oS(()=>ov(this.fetch,`${this.url}/${r}/${n}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){let t=this._getFinalPath(e);try{return{data:oc(await ov(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers})),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async exists(e){let t=this._getFinalPath(e);try{return await ox(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e)&&e instanceof oh){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let r=this._getFinalPath(e),s=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&s.push(i);let n=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&s.push(a);let o=s.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${r}${o}`)}}}async remove(e){try{return{data:await o_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async list(e,t,r){try{let s=op(op(op({},oE),t),{},{prefix:e||""});return{data:await ow(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async listV2(e,t){try{let r=op({},e);return{data:await ow(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return void 0!==a9.Buffer?a9.Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};let oA="2.89.0",oP={"X-Client-Info":`storage-js/${oA}`};var oR=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);(null==s?void 0:s.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=op(op({},oP),t),this.fetch=ou(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){try{let t=this.listBucketOptionsToQueryString(e);return{data:await ov(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async getBucket(e){try{return{data:await ov(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async createBucket(e,t={public:!1}){try{return{data:await ow(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async updateBucket(e,t){try{return{data:await ob(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async emptyBucket(e){try{return{data:await ow(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async deleteBucket(e){try{return{data:await o_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},oO=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=op(op({},oP),t),this.fetch=ou(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){try{return{data:await ow(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async listBuckets(e){try{let t=new URLSearchParams;(null==e?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);let r=t.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:await ov(this.fetch,s,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}async deleteBucket(e){try{return{data:await o_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oo(e))return{data:null,error:e};throw e}}from(e){var t=this;if(!(!(!e||"string"!=typeof e||0===e.length||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\"))&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)))throw new oa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let r=new on({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(e,t){let r=e[t];return"function"!=typeof r?r:async(...t)=>{try{return{data:await r.apply(e,t),error:null}}catch(e){if(s)throw e;return{data:null,error:e}}}}})}};let oC={"X-Client-Info":`storage-js/${oA}`,"Content-Type":"application/json"};var oI=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function oN(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}var o$=class extends oI{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},oD=class extends oI{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};let oB=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),oM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oU=async(e,t,r)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==r?void 0:r.noResolveJson)){let r=e.status||500;"function"==typeof e.json?e.json().then(e=>{let s=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||r+"";t(new o$(oM(e),r,s))}).catch(()=>{t(new o$(e.statusText||`HTTP ${r} error`,r,r+""))}):t(new o$(e.statusText||`HTTP ${r} error`,r,r+""))}else t(new oD(oM(e),e))};async function oL(e,t,r,s,i,n){return new Promise((a,o)=>{let l;e(r,(l={method:t,headers:(null==s?void 0:s.headers)||{}},"GET"===t||!n?l:((e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(l.headers=op({"Content-Type":"application/json"},null==s?void 0:s.headers),l.body=JSON.stringify(n)):l.body=n,op(op({},l),i)))).then(e=>{if(!e.ok)throw e;if(null==s?void 0:s.noResolveJson)return e;let t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>a(e)).catch(e=>oU(e,o,s))})}async function oV(e,t,r,s,i){return oL(e,"POST",t,s,i,r)}var oF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=op(op({},oC),t),this.fetch=oB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){try{return{data:await oV(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async getIndex(e,t){try{return{data:await oV(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async listIndexes(e){try{return{data:await oV(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async deleteIndex(e,t){try{return{data:await oV(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}},oW=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=op(op({},oC),t),this.fetch=oB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){try{if(e.vectors.length<1||e.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return{data:await oV(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async getVectors(e){try{return{data:await oV(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async listVectors(e){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await oV(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async queryVectors(e){try{return{data:await oV(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async deleteVectors(e){try{if(e.keys.length<1||e.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return{data:await oV(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}},oq=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=op(op({},oC),t),this.fetch=oB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){try{return{data:await oV(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async getBucket(e){try{return{data:await oV(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async listBuckets(e={}){try{return{data:await oV(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}async deleteBucket(e){try{return{data:await oV(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oN(e))return{data:null,error:e};throw e}}},oz=class extends oq{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new oK(this.url,this.headers,e,this.fetch)}async createBucket(e){return super.createBucket.call(this,e)}async getBucket(e){return super.getBucket.call(this,e)}async listBuckets(e={}){return super.listBuckets.call(this,e)}async deleteBucket(e){return super.deleteBucket.call(this,e)}},oK=class extends oF{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){return super.createIndex.call(this,op(op({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return super.listIndexes.call(this,op(op({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return super.getIndex.call(this,this.vectorBucketName,e)}async deleteIndex(e){return super.deleteIndex.call(this,this.vectorBucketName,e)}index(e){return new oH(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},oH=class extends oW{constructor(e,t,r,s,i){super(e,t,i),this.vectorBucketName=r,this.indexName=s}async putVectors(e){return super.putVectors.call(this,op(op({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async getVectors(e){return super.getVectors.call(this,op(op({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async listVectors(e={}){return super.listVectors.call(this,op(op({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async queryVectors(e){return super.queryVectors.call(this,op(op({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async deleteVectors(e){return super.deleteVectors.call(this,op(op({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}},oG=class extends oR{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new oj(this.url,this.headers,e,this.fetch)}get vectors(){return new oz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oO(this.url+"/iceberg",this.headers,this.fetch)}};let oJ="2.89.0",oY={"X-Client-Info":`gotrue-js/${oJ}`},oX="X-Supabase-Api-Version",oZ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class o0 extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function o1(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class o2 extends o0{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class o5 extends o0{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class o3 extends o0{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class o4 extends o3{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class o6 extends o3{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class o8 extends o3{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class o9 extends o3{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class o7 extends o3{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class le extends o3{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class lt extends o3{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function lr(e){return o1(e)&&"AuthRetryableFetchError"===e.name}class ls extends o3{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class li extends o3{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let ln="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),la=" 	\n\r=".split(""),lo=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<la.length;t+=1)e[la[t].charCodeAt(0)]=-2;for(let t=0;t<ln.length;t+=1)e[ln[t].charCodeAt(0)]=t;return e})();function ll(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)r(ln[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)r(ln[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function lh(e,t,r){let s=lo[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===s)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function lu(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return r(e);for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,s,r)};for(let t=0;t<e.length;t+=1)lh(e.charCodeAt(t),i,n);return t.join("")}function lc(e){let t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)lh(e.charCodeAt(t),r,s);return new Uint8Array(t)}function ld(e){let t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};return e.forEach(e=>ll(e,r,s)),ll(null,r,s),t.join("")}let lf=()=>"undefined"!=typeof window&&"undefined"!=typeof document,lp={tested:!1,writable:!1},lm=()=>{if(!lf())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(lp.tested)return lp.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lp.tested=!0,lp.writable=!0}catch(e){lp.tested=!0,lp.writable=!1}return lp.writable},lg=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ly=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},lv=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},lw=async(e,t)=>{await e.removeItem(t)};class lb{constructor(){this.promise=new lb.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function lx(e){let t=e.split(".");if(3!==t.length)throw new li("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!oQ.test(t[e]))throw new li("JWT not in base64url format");return{header:JSON.parse(lu(t[0])),payload:JSON.parse(lu(t[1])),signature:lc(t[2]),raw:{header:t[0],payload:t[1]}}}async function l_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lk(e){return("0"+e.toString(16)).substr(-2)}async function lS(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function lE(e){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e):btoa(await lS(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lT(e,t,r=!1){let s=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let s=0;s<56;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,lk).join("")}(),i=s;r&&(i+="/PASSWORD_RECOVERY"),await ly(e,`${t}-code-verifier`,i);let n=await lE(s),a=s===n?"plain":"s256";return[n,a]}lb.promiseConstructor=Promise;let lj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,lA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lP(e){if(!lA.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lR(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lO(e){return JSON.parse(JSON.stringify(e))}let lC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lI=[502,503,504];async function lN(e){var t;let r,s;if(!("object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json))throw new lt(lC(e),0);if(lI.includes(e.status))throw new lt(lC(e),e.status);try{r=await e.json()}catch(e){throw new o5(lC(e),e)}let i=function(e){let t=e.headers.get(oX);if(!t||!t.match(lj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(i&&i.getTime()>=oZ["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?s=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new ls(lC(r),e.status,(null==(t=r.weak_password)?void 0:t.reasons)||[]);else if("session_not_found"===s)throw new o4}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new ls(lC(r),e.status,r.weak_password.reasons);throw new o2(lC(r),e.status||500,s)}async function l$(e,t,r,s){var i;let n=Object.assign({},null==s?void 0:s.headers);n[oX]||(n[oX]=oZ["2024-01-01"].name),(null==s?void 0:s.jwt)&&(n.Authorization=`Bearer ${s.jwt}`);let a=null!=(i=null==s?void 0:s.query)?i:{};(null==s?void 0:s.redirectTo)&&(a.redirect_to=s.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await lD(e,t,r+o,{headers:n,noResolveJson:null==s?void 0:s.noResolveJson},{},null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function lD(e,t,r,s,i,n){let a,o,l=(o={method:t,headers:(null==s?void 0:s.headers)||{}},"GET"===t?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==s?void 0:s.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),i)));try{a=await e(r,Object.assign({},l))}catch(e){throw console.error(e),new lt(lC(e),0)}if(a.ok||await lN(a),null==s?void 0:s.noResolveJson)return a;try{return await a.json()}catch(e){await lN(e)}}function lB(e){var t,r,s;let i=null;(s=e).access_token&&s.refresh_token&&s.expires_in&&(i=Object.assign({},e),e.expires_at||(i.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:i,user:null!=(t=e.user)?t:e},error:null}}function lM(e){let t=lB(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function lU(e){var t;return{data:{user:null!=(t=e.user)?t:e},error:null}}function lL(e){return{data:e,error:null}}function lV(e){let{action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:n}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:n},user:Object.assign({},aC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function lF(e){return e}let lW=["global","local","others"];class lq{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=lg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=lW[0]){if(0>lW.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${lW.join(", ")}`);try{return await l$(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(o1(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await l$(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:lU})}catch(e){if(o1(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=aC(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),await l$(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lV,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(o1(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await l$(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:lU})}catch(e){if(o1(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,s,i,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},h=await l$(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(i=null==(s=null==e?void 0:e.perPage)?void 0:s.toString())?i:""},xform:lF});if(h.error)throw h.error;let u=await h.json(),c=null!=(n=h.headers.get("x-total-count"))?n:0,d=null!=(o=null==(a=h.headers.get("link"))?void 0:a.split(","))?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(c)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(e){if(o1(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){lP(e);try{return await l$(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:lU})}catch(e){if(o1(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){lP(e);try{return await l$(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:lU})}catch(e){if(o1(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){lP(e);try{return await l$(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:lU})}catch(e){if(o1(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){lP(e.userId);try{let{data:t,error:r}=await l$(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(o1(e))return{data:null,error:e};throw e}}async _deleteFactor(e){lP(e.userId),lP(e.id);try{return{data:await l$(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(o1(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,r,s,i,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},h=await l$(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(i=null==(s=null==e?void 0:e.perPage)?void 0:s.toString())?i:""},xform:lF});if(h.error)throw h.error;let u=await h.json(),c=null!=(n=h.headers.get("x-total-count"))?n:0,d=null!=(o=null==(a=h.headers.get("link"))?void 0:a.split(","))?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(c)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(e){if(o1(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await l$(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(o1(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await l$(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(o1(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await l$(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(o1(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await l$(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(o1(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await l$(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(o1(e))return{data:null,error:e};throw e}}}function lz(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}let lK={debug:!!(globalThis&&lm()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class lH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lG extends lH{}async function lJ(e,t,r){lK.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),lK.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async s=>{if(s){lK.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{lK.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}if(0===t)throw lK.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(lK.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}))}function lY(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class lX extends Error{constructor({message:e,code:t,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!=(i=null!=s?s:r instanceof Error?r.name:void 0)?i:"Unknown Error",this.code=t}}class lZ extends lX{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}let lQ=new class{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function l0(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function l1(){var e,t;return!!(lf()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(e=null==navigator?void 0:navigator.credentials)?void 0:e.create)&&"function"==typeof(null==(t=null==navigator?void 0:navigator.credentials)?void 0:t.get))}async function l2(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new lZ("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new lZ("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var r,s,i;let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new lX({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null==(r=n.authenticatorSelection)?void 0:r.requireResidentKey)===!0)return new lX({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});else if("conditional"===t.mediation&&(null==(s=n.authenticatorSelection)?void 0:s.userVerification)==="required")return new lX({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});else if((null==(i=n.authenticatorSelection)?void 0:i.userVerification)==="required")return new lX({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new lX({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new lX({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new lX(0===n.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!l0(t))return new lX({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rp.id!==t)return new lX({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new lX({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new lX({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new lX({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function l5(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new lZ("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new lZ("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new lX({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new lX({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!l0(t))return new lX({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new lX({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new lX({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new lX({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let l3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},l4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function l6(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),s={};for(let i of e)if(i)for(let e in i){let n=i[e];if(void 0!==n)if(Array.isArray(n))s[e]=n;else if(r(n))s[e]=n;else if(t(n)){let r=s[e];t(r)?s[e]=l6(r,n):s[e]=l6(n)}else s[e]=n}return s}class l8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:s},i){try{var n,a,o,l;let{data:h,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!h)return{data:null,error:u};let c=null!=s?s:lQ.createNewAbortSignal();if("create"===h.webauthn.type){let{user:e}=h.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${r}`),e.displayName||(e.displayName=e.name)}switch(h.webauthn.type){case"create":{let t=(n=h.webauthn.credential_options.publicKey,a=null==i?void 0:i.create,l6(l3,n,a||{})),{data:r,error:s}=await l2({publicKey:t,signal:c});if(r)return{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:r}},error:null};return{data:null,error:s}}case"request":{let t=(o=h.webauthn.credential_options.publicKey,l=null==i?void 0:i.request,l6(l4,o,l||{})),{data:r,error:s}=await l5(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:t,signal:c}));if(r)return{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:r}},error:null};return{data:null,error:s}}}}catch(e){if(o1(e))return{data:null,error:e};return{data:null,error:new o5("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:r="undefined"!=typeof window?[window.location.origin]:void 0,signal:s}={}},i){if(!t)return{data:null,error:new o0("rpId is required for WebAuthn authentication")};try{if(!l1())return{data:null,error:new o5("Browser does not support WebAuthn",null)};let{data:n,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:s},{request:i});if(!n)return{data:null,error:a};let{webauthn:o}=n;return this._verify({factorId:e,challengeId:n.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:r,credential_response:o.credential_response}})}catch(e){if(o1(e))return{data:null,error:e};return{data:null,error:new o5("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:r="undefined"!=typeof window?[window.location.origin]:void 0,signal:s}={}},i){if(!t)return{data:null,error:new o0("rpId is required for WebAuthn registration")};try{if(!l1())return{data:null,error:new o5("Browser does not support WebAuthn",null)};let{data:n,error:a}=await this._enroll({friendlyName:e});if(!n)return await this.client.mfa.listFactors().then(t=>{var r;return null==(r=t.data)?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:a};let{data:o,error:l}=await this._challenge({factorId:n.id,friendlyName:n.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:s},{create:i});if(!o)return{data:null,error:l};return this._verify({factorId:n.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:r,type:o.webauthn.type,credential_response:o.webauthn.credential_response}})}catch(e){if(o1(e))return{data:null,error:e};return{data:null,error:new o5("Unexpected error in register",e)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}let l9={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function l7(e,t,r){return await r()}let he={};class ht{get jwks(){var e,t;return null!=(t=null==(e=he[this.storageKey])?void 0:e.jwks)?t:{keys:[]}}set jwks(e){he[this.storageKey]=Object.assign(Object.assign({},he[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!=(t=null==(e=he[this.storageKey])?void 0:e.cachedAt)?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){he[this.storageKey]=Object.assign(Object.assign({},he[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},l9),e);if(this.storageKey=i.storageKey,this.instanceID=null!=(t=ht.nextInstanceID[this.storageKey])?t:0,ht.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.instanceID>0&&lf()){const e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lq({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lg(i.fetch),this.lock=i.lock||l7,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&lf()&&(null==(r=null==globalThis?void 0:globalThis.navigator)?void 0:r.locks)?this.lock=lJ:this.lock=l7,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lz(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=lz(this.memoryStorage)),lf()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null==(s=this.broadcastChannel)||s.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${oJ}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(lf()&&(t=function(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),lf()&&this.detectSessionInUrl&&"none"!==r){let{data:s,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),o1(i)&&"AuthImplicitGrantRedirectError"===i.name){let t=null==(e=i.details)?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}let{session:n,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",a),await this._saveSession(n),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(o1(e))return this._returnResult({error:e});return this._returnResult({error:new o5("Unexpected error during initialization",e)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{let{data:i,error:n}=await l$(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(r=null==(t=null==e?void 0:e.options)?void 0:t.data)?r:{},gotrue_meta_security:{captcha_token:null==(s=null==e?void 0:e.options)?void 0:s.captchaToken}},xform:lB});if(n||!i)return this._returnResult({data:{user:null,session:null},error:n});let a=i.session,o=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:o,session:a},error:null})}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){var t,r,s;try{let i;if("email"in e){let{email:r,password:s,options:n}=e,a=null,o=null;"pkce"===this.flowType&&([a,o]=await lT(this.storage,this.storageKey)),i=await l$(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:r,password:s,data:null!=(t=null==n?void 0:n.data)?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:o},xform:lB})}else if("phone"in e){let{phone:t,password:n,options:a}=e;i=await l$(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!=(r=null==a?void 0:a.data)?r:{},channel:null!=(s=null==a?void 0:a.channel)?s:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:lB})}else throw new o8("You must provide either an email or phone number and a password");let{data:n,error:a}=i;if(a||!n)return await lw(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});let o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(await lw(this.storage,`${this.storageKey}-code-verifier`),o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:s,options:i}=e;t=await l$(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:lM})}else if("phone"in e){let{phone:r,password:s,options:i}=e;t=await l$(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:lM})}else throw new o8("You must provide either an email or phone number and a password");let{data:r,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){let e=new o6;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){var t,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null==(t=e.options)?void 0:t.redirectTo,scopes:null==(r=e.options)?void 0:r.scopes,queryParams:null==(s=e.options)?void 0:s.queryParams,skipBrowserRedirect:null==(i=e.options)?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,s,i,n,a,o,l,h,u,c,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let u,{chain:c,wallet:m,statement:g,options:y}=e;if(lf())if("object"==typeof m)u=m;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)u=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof m||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");u=m}let v=new URL(null!=(t=null==y?void 0:y.url)?t:window.location.href),w=await u.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||0===w.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let b=lY(w[0]),x=null==(r=null==y?void 0:y.signInWithEthereum)?void 0:r.chainId;x||(x=parseInt(await u.request({method:"eth_chainId"}),16)),f=function(e){var t;let{chainId:r,domain:s,expirationTime:i,issuedAt:n=new Date,nonce:a,notBefore:o,requestId:l,resources:h,scheme:u,uri:c,version:d}=e;if(!Number.isInteger(r))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!c)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null==(t=e.statement)?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=lY(e.address),p=u?`${u}://${s}`:s,m=e.statement?`${e.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`,y=`URI: ${c}
Version: ${d}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${n.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),h){let e="\nResources:";for(let t of h){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}y+=e}return`${g}
${y}`}({domain:v.host,address:b,statement:g,uri:v.href,version:"1",chainId:x,nonce:null==(s=null==y?void 0:y.signInWithEthereum)?void 0:s.nonce,issuedAt:null!=(n=null==(i=null==y?void 0:y.signInWithEthereum)?void 0:i.issuedAt)?n:new Date,expirationTime:null==(a=null==y?void 0:y.signInWithEthereum)?void 0:a.expirationTime,notBefore:null==(o=null==y?void 0:y.signInWithEthereum)?void 0:o.notBefore,requestId:null==(l=null==y?void 0:y.signInWithEthereum)?void 0:l.requestId,resources:null==(h=null==y?void 0:y.signInWithEthereum)?void 0:h.resources}),p=await u.request({method:"personal_sign",params:[(d=f,"0x"+Array.from(new TextEncoder().encode(d),e=>e.toString(16).padStart(2,"0")).join("")),b]})}try{let{data:t,error:r}=await l$(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},(null==(u=e.options)?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null==(c=e.options)?void 0:c.captchaToken}}:null),xform:lB});if(r)throw r;if(!t||!t.session||!t.user){let e=new o6;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){var t,r,s,i,n,a,o,l,h,u,c,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let c,{chain:d,wallet:m,statement:g,options:y}=e;if(lf())if("object"==typeof m)c=m;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))c=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof m||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=m}let v=new URL(null!=(t=null==y?void 0:y.url)?t:window.location.href);if("signIn"in c&&c.signIn){let e,t=await c.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==y?void 0:y.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),g?{statement:g}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)f="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),p=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in c)||"function"!=typeof c.signMessage||!("publicKey"in c)||"object"!=typeof c||!c.publicKey||!("toBase58"in c.publicKey)||"function"!=typeof c.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${v.host} wants you to sign in with your Solana account:`,c.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!=(s=null==(r=null==y?void 0:y.signInWithSolana)?void 0:r.issuedAt)?s:new Date().toISOString()}`,...(null==(i=null==y?void 0:y.signInWithSolana)?void 0:i.notBefore)?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...(null==(n=null==y?void 0:y.signInWithSolana)?void 0:n.expirationTime)?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...(null==(a=null==y?void 0:y.signInWithSolana)?void 0:a.chainId)?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...(null==(o=null==y?void 0:y.signInWithSolana)?void 0:o.nonce)?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...(null==(l=null==y?void 0:y.signInWithSolana)?void 0:l.requestId)?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...(null==(u=null==(h=null==y?void 0:y.signInWithSolana)?void 0:h.resources)?void 0:u.length)?["Resources",...y.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await c.signMessage(new TextEncoder().encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{let{data:t,error:r}=await l$(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ld(p)},(null==(c=e.options)?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null==(d=e.options)?void 0:d.captchaToken}}:null),xform:lB});if(r)throw r;if(!t||!t.session||!t.user){let e=new o6;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let t=await lv(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(null!=t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new le;let{data:t,error:i}=await l$(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:lB});if(await lw(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user){let e=new o6;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=s?s:null}),error:i})}catch(e){if(await lw(this.storage,`${this.storageKey}-code-verifier`),o1(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:s,access_token:i,nonce:n}=e,{data:a,error:o}=await l$(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:lB});if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){let e=new o6;return this._returnResult({data:{user:null,session:null},error:e})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:a,error:o})}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){var t,r,s,i,n;try{if("email"in e){let{email:s,options:i}=e,n=null,a=null;"pkce"===this.flowType&&([n,a]=await lT(this.storage,this.storageKey));let{error:o}=await l$(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!=(t=null==i?void 0:i.data)?t:{},create_user:null==(r=null==i?void 0:i.shouldCreateUser)||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:n,code_challenge_method:a},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){let{phone:t,options:r}=e,{data:a,error:o}=await l$(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!=(s=null==r?void 0:r.data)?s:{},create_user:null==(i=null==r?void 0:r.shouldCreateUser)||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!=(n=null==r?void 0:r.channel)?n:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o})}throw new o8("You must provide either an email or phone number.")}catch(e){if(await lw(this.storage,`${this.storageKey}-code-verifier`),o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){var t,r;try{let s,i;"options"in e&&(s=null==(t=e.options)?void 0:t.redirectTo,i=null==(r=e.options)?void 0:r.captchaToken);let{data:n,error:a}=await l$(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:lB});if(a)throw a;if(!n)throw Error("An error occurred on token verification.");let o=n.session,l=n.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){var t,r,s,i,n;try{let a=null,o=null;"pkce"===this.flowType&&([a,o]=await lT(this.storage,this.storageKey));let l=await l$(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!=(r=null==(t=e.options)?void 0:t.redirectTo)?r:void 0}),(null==(s=null==e?void 0:e.options)?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:lL});return(null==(i=l.data)?void 0:i.url)&&lf()&&!(null==(n=e.options)?void 0:n.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(e){if(await lw(this.storage,`${this.storageKey}-code-verifier`),o1(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new o4;let{error:s}=await l$(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:s,options:i}=e,{error:n}=await l$(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:n})}if("phone"in e){let{phone:r,type:s,options:i}=e,{data:n,error:a}=await l$(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:a})}throw new o8("You must provide either an email or phone number and a type")}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let t=null,r=await lv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),null!==r&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let s=!!t.expires_at&&1e3*t.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){let e=await lv(this.userStorage,this.storageKey+"-user");(null==e?void 0:e.user)?t.user=e.user:t.user=lR()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){var e;let r={value:this.suppressGetSessionWarning};t.user=(e=t.user,new Proxy(e,{get:(e,t,s)=>{if("__isInsecureUserWarningProxy"===t)return!0;if("symbol"==typeof t){let r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r||"Symbol(nodejs.util.inspect.custom)"===r)return Reflect.get(e,t,s)}return r.value||"string"!=typeof t||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(e,t,s)}})),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:i,error:n}=await this._callRefreshToken(t.refresh_token);if(n)return this._returnResult({data:{session:null},error:n});return this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{if(e)return await l$(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:lU});return await this._useSession(async e=>{var t,r,s;let{data:i,error:n}=e;if(n)throw n;return(null==(t=i.session)?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await l$(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(s=null==(r=i.session)?void 0:r.access_token)?s:void 0,xform:lU}):{data:{user:null},error:new o4}})}catch(e){if(o1(e))return o1(e)&&"AuthSessionMissingError"===e.name&&(await this._removeSession(),await lw(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new o4;let n=s.session,a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await lT(this.storage,this.storageKey));let{data:l,error:h}=await l$(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:n.access_token,xform:lU});if(h)throw h;return n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),this._returnResult({data:{user:n.user},error:null})})}catch(e){if(await lw(this.storage,`${this.storageKey}-code-verifier`),o1(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new o4;let t=Date.now()/1e3,r=t,s=!0,i=null,{payload:n}=lx(e.access_token);if(n.exp&&(s=(r=n.exp)<=t),s){let{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:s,error:n}=await this._getUser(e.access_token);if(n)throw n;i={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(o1(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:s,error:i}=t;if(i)throw i;e=null!=(r=s.session)?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new o4;let{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!lf())throw new o9("No browser detected.");if(e.error||e.error_description||e.error_code)throw new o9(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new o7("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new o9("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new o7("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:n,expires_in:a,expires_at:o,token_type:l}=e;if(!i||!a||!n||!l)throw new o9("No session defined in URL");let h=Math.round(Date.now()/1e3),u=parseInt(a),c=h+u;o&&(c=parseInt(o));let d=c-h;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${u}s`);let f=c-u;h-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,c,h):h-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,c,h);let{data:p,error:m}=await this._getUser(i);if(m)throw m;let g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:u,expires_at:c,refresh_token:n,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(o1(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await lv(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:s,error:i}=t;if(i)return this._returnResult({error:i});let n=null==(r=s.session)?void 0:r.access_token;if(n){let{error:t}=await this.admin.signOut(n,e);if(t&&!(o1(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await lw(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{let{data:{session:s},error:i}=t;if(i)throw i;await (null==(r=this.stateChangeEmitters.get(e))?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(t){await (null==(s=this.stateChangeEmitters.get(e))?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;"pkce"===this.flowType&&([r,s]=await lT(this.storage,this.storageKey,!0));try{return await l$(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await lw(this.storage,`${this.storageKey}-code-verifier`),o1(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!=(e=t.user.identities)?e:[]},error:null})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:r,error:s}=await this._useSession(async t=>{var r,s,i,n,a;let{data:o,error:l}=t;if(l)throw l;let h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null==(r=e.options)?void 0:r.redirectTo,scopes:null==(s=e.options)?void 0:s.scopes,queryParams:null==(i=e.options)?void 0:i.queryParams,skipBrowserRedirect:!0});return await l$(this.fetch,"GET",h,{headers:this.headers,jwt:null!=(a=null==(n=o.session)?void 0:n.access_token)?a:void 0})});if(s)throw s;return!lf()||(null==(t=e.options)?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(t){if(o1(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{let{error:s,data:{session:i}}=t;if(s)throw s;let{options:n,provider:a,token:o,access_token:l,nonce:h}=e,{data:u,error:c}=await l$(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(r=null==i?void 0:i.access_token)?r:void 0,body:{provider:a,id_token:o,access_token:l,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:lB});if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user)return this._returnResult({data:{user:null,session:null},error:new o6});return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:c})}catch(e){if(await lw(this.storage,`${this.storageKey}-code-verifier`),o1(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;let{data:i,error:n}=t;if(n)throw n;return await l$(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!=(s=null==(r=i.session)?void 0:r.access_token)?s:void 0})})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,s;let i=Date.now();return await (r=async r=>(r>0&&await l_(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await l$(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lB})),s=(e,t)=>{let r=200*Math.pow(2,e);return t&&lr(t)&&Date.now()+r-i<3e4},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{let t=await r(i);if(!s(i,null,t))return void e(t)}catch(e){if(!s(i,e))return void t(e)}})()}))}catch(e){if(this._debug(t,"error",e),o1(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),lf()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let s=await lv(this.storage,this.storageKey);if(s&&this.userStorage){let t=await lv(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:s.user},await ly(this.userStorage,this.storageKey+"-user",t)),s.user=null!=(e=null==t?void 0:t.user)?e:lR()}else if(s&&!s.user&&!s.user){let e=await lv(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(s.user=e.user,await lw(this.storage,this.storageKey+"-user"),await ly(this.storage,this.storageKey,s)):s.user=lR()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),null!==s&&await this._removeSession();return}let i=(null!=(t=s.expires_at)?t:1/0)*1e3-Date.now()<9e4;if(this._debug(r,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&s.refresh_token){let{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),lr(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(s.access_token);!t&&(null==e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(r,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(e){this._debug(r,"error",e),console.error(e);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new o4;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lb;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new o4;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let s={data:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(e){if(this._debug(s,"error",e),o1(e)){let r={data:null,error:e};return lr(e)||await this._removeSession(),null==(t=this.refreshingDeferred)||t.resolve(r),r}throw null==(r=this.refreshingDeferred)||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){let s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let s=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){s.push(e)}});if(await Promise.all(i),s.length>0){for(let e=0;e<s.length;e+=1)console.error(s[e]);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await lw(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await ly(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let s=lO(e);await ly(this.storage,this.storageKey,s)}else{let e=lO(t);await ly(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lw(this.storage,this.storageKey),await lw(this.storage,this.storageKey+"-code-verifier"),await lw(this.storage,this.storageKey+"-user"),this.userStorage&&await lw(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lf()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let s=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lH)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lf()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"!==document.visibilityState?this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"):await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let s=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await lT(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);s.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:s,error:i}=t;return i?this._returnResult({data:null,error:i}):await l$(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null==(r=null==s?void 0:s.session)?void 0:r.access_token})})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;let{data:i,error:n}=t;if(n)return this._returnResult({data:null,error:n});let a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await l$(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null==(r=null==i?void 0:i.session)?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null==(s=null==o?void 0:o.totp)?void 0:s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r,s,i;let{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});let o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(s=e.webauthn.credential_response,"toJSON"in s&&"function"==typeof s.toJSON?s.toJSON():{id:s.id,rawId:s.id,response:{attestationObject:ld(new Uint8Array(s.response.attestationObject)),clientDataJSON:ld(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:null!=(i=s.authenticatorAttachment)?i:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ld(new Uint8Array(s.authenticatorData)),clientDataJSON:ld(new Uint8Array(s.clientDataJSON)),signature:ld(new Uint8Array(s.signature)),userHandle:s.userHandle?ld(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!=(t=e.authenticatorAttachment)?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:h}=await l$(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:h}))})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:s,error:i}=t;if(i)return this._returnResult({data:null,error:i});let n=await l$(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null==(r=null==s?void 0:s.session)?void 0:r.access_token});if(n.error)return n;let{data:a}=n;if("webauthn"!==a.type)return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:r,excludeCredentials:s}=e,i=aC(e,["challenge","user","excludeCredentials"]),n=lc(t).buffer,a=Object.assign(Object.assign({},r),{id:lc(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:n,user:a});if(s&&s.length>0){o.excludeCredentials=Array(s.length);for(let e=0;e<s.length;e++){let t=s[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:lc(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:r}=e,s=aC(e,["challenge","allowCredentials"]),i=lc(t).buffer,n=Object.assign(Object.assign({},s),{challenge:i});if(r&&r.length>0){n.allowCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];n.allowCredentials[e]=Object.assign(Object.assign({},t),{id:lc(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return n}(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let s={all:[],phone:[],totp:[],webauthn:[]};for(let r of null!=(e=null==t?void 0:t.factors)?e:[])s.all.push(r),"verified"===r.status&&s[r.factor_type].push(r);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;let{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:i}=lx(r.access_token),n=null;i.aal&&(n=i.aal);let a=n;return(null!=(t=null==(e=r.user.factors)?void 0:e.filter(e=>"verified"===e.status))?t:[]).length>0&&(a="aal2"),{data:{currentLevel:n,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await l$(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new o4})})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new o4});let n=await l$(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return n.data&&n.data.redirect_url&&lf()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(n.data.redirect_url),n})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new o4});let n=await l$(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return n.data&&n.data.redirect_url&&lf()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(n.data.redirect_url),n})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await l$(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new o4})})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?(await l$(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new o4})})}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;let s=Date.now();if((r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>s)return r;let{data:i,error:n}=await l$(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;return i.keys&&0!==i.keys.length&&(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(t=>t.kid===e))?r:null}async getClaims(e,t={}){try{var r;let s,i=e;if(!i){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});i=e.session.access_token}let{header:n,payload:a,signature:o,raw:{header:l,payload:h}}=lx(i);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(a.exp);let u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!u){let{error:e}=await this.getUser(i);if(e)throw e;return{data:{claims:a,header:n,signature:o},error:null}}let c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(n.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,(r=`${l}.${h}`,s=[],!function(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){let t=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127)return t(e);if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(s,t)}}(r,e=>s.push(e)),new Uint8Array(s))))throw new li("Invalid JWT signature");return{data:{claims:a,header:n,signature:o},error:null}}catch(e){if(o1(e))return this._returnResult({data:null,error:e});throw e}}}ht.nextInstanceID={};let hr=ht,hs="";hs="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let hi={headers:{"X-Client-Info":`supabase-js-${hs}/2.89.0`}},hn={schema:"public"},ha={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ho={};function hl(e){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hh(Object(r),!0).forEach(function(t){!function(e,t,r){var s;(s=function(e,t){if("object"!=hl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=hl(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hl(s)?s:s+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var hc=class extends hr{constructor(e){super(e)}},hd=class{constructor(e,t,r){var s,i,n;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l=function(e,t){var r,s;let{db:i,auth:n,realtime:a,global:o}=e,{db:l,auth:h,realtime:u,global:c}=t,d={db:hu(hu({},l),i),auth:hu(hu({},h),n),realtime:hu(hu({},u),a),storage:{},global:hu(hu(hu({},c),o),{},{headers:hu(hu({},null!=(r=null==c?void 0:c.headers)?r:{}),null!=(s=null==o?void 0:o.headers)?s:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:hn,realtime:ho,auth:hu(hu({},ha),{},{storageKey:o}),global:hi});this.storageKey=null!=(s=l.auth.storageKey)?s:"",this.headers=null!=(i=l.global.headers)?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(n=l.auth)?n:{},this.headers,l.global.fetch),this.fetch=((e,t,r)=>{let s=r?(...e)=>r(...e):(...e)=>fetch(...e),i=Headers;return async(r,n)=>{var a;let o=null!=(a=await t())?a:e,l=new i(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(r,hu(hu({},n),{},{headers:l}))}})(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(hu({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new aL(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new oG(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new aI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return null!=(e=null==(t=r.session)?void 0:t.access_token)?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:n,flowType:a,lock:o,debug:l,throwOnError:h},u,c){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hc({url:this.authUrl.href,headers:hu(hu({},d),u),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:h,fetch:c,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new a8(this.realtimeUrl.href,hu(hu({},e),{},{params:hu(hu({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}};(function(){if("undefined"!=typeof window||void 0===e_.default)return!1;let e=e_.default.version;if(null==e)return!1;let t=e.match(/^v(\d+)\./);return!!t&&18>=parseInt(t[1],10)})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let hf="true"===e_.default.env.DEV;console.log("inDevMode: ",hf);let hp=new hd("https://gtptquokrxjipqftcwfb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0cHRxdW9rcnhqaXBxZnRjd2ZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1MjY2NjEsImV4cCI6MjA4MzEwMjY2MX0.Yl_ICuDXZ_X2-U8VmBMLK-E_hTUcg0mjqmc2cpekYjA",void 0);async function hm(e){let{data:t,error:r}=await hp.functions.invoke("node-api",{body:{...e,isTest:hf}});return r?(console.log(r),{error:!0}):t}let hg=av("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),hy=av("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),hv=av("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),hw=av("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),hb=av("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hx=async e=>{let t=JSON.parse(localStorage.getItem("buttr_waitlist")||"[]");return localStorage.setItem("buttr_waitlist",JSON.stringify([...t,{...e,date:new Date().toISOString()}])),new Promise(t=>setTimeout(()=>{t(hm(e))},1500))},h_=e=>{let t,r,s,i,n,a,o,l,h,u,c,d,f,p,m=(0,P.c)(26),{isOpen:g,onClose:y}=e;m[0]===Symbol.for("react.memo_cache_sentinel")?(t={email:"",name:"",contact_number:""},m[0]=t):t=m[0];let[v,w]=(0,R.useState)(t),[b,x]=(0,R.useState)(!1),[_,k]=(0,R.useState)(!1);m[1]!==v?(r=async e=>{e.preventDefault(),k(!0),await hx(v),k(!1),x(!0)},m[1]=v,m[2]=r):r=m[2];let S=r;return g?(m[3]===Symbol.for("react.memo_cache_sentinel")?(s={opacity:0},i={opacity:1},n={opacity:0},m[3]=s,m[4]=i,m[5]=n):(s=m[3],i=m[4],n=m[5]),m[6]!==y?(a=(0,A.jsx)(n$.div,{initial:s,animate:i,exit:n,onClick:y,className:"absolute inset-0 bg-[#2D2A26]/40 backdrop-blur-md"}),m[6]=y,m[7]=a):a=m[7],m[8]===Symbol.for("react.memo_cache_sentinel")?(o={scale:.9,opacity:0,y:20},l={scale:1,opacity:1,y:0},h={scale:.9,opacity:0,y:20},m[8]=o,m[9]=l,m[10]=h):(o=m[8],l=m[9],h=m[10]),m[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,A.jsx)(hb,{className:"w-6 h-6"}),m[11]=u):u=m[11],m[12]!==y?(c=(0,A.jsx)("button",{onClick:y,className:"absolute top-6 right-6 p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-400",children:u}),m[12]=y,m[13]=c):c=m[13],m[14]!==v||m[15]!==S||m[16]!==b||m[17]!==_||m[18]!==y?(d=(0,A.jsx)("div",{className:"p-8 md:p-12",children:b?(0,A.jsxs)(n$.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-6 text-center py-8",children:[(0,A.jsx)("div",{className:"w-20 h-20 bg-green-50 rounded-full flex items-center justify-center text-green-500 mb-2",children:(0,A.jsx)(hg,{className:"w-10 h-10"})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("h3",{className:"text-3xl font-serif italic mb-2",children:"You're in."}),(0,A.jsx)("p",{className:"text-gray-400 font-light max-w-xs mx-auto",children:"We've recorded your details. Our team will reach out shortly to schedule your audit. "})]}),(0,A.jsx)("button",{onClick:y,className:"mt-4 text-xs font-extrabold uppercase tracking-widest text-[#F59E0B] hover:text-amber-600 transition-colors",children:"Close"})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"mb-8",children:[(0,A.jsx)("div",{className:"w-12 h-12 bg-[#F59E0B]/10 rounded-2xl flex items-center justify-center mb-6",children:(0,A.jsx)(aT,{className:"w-6 h-6 text-[#F59E0B]"})}),(0,A.jsx)("h2",{className:"text-3xl font-serif italic mb-2",children:"Claim your brand audit."}),(0,A.jsx)("p",{className:"text-gray-400 font-light",children:"Join the waitlist for early access to our LLM visibility engine."})]}),(0,A.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)(hw,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),(0,A.jsx)("input",{required:!0,type:"text",placeholder:"Full Name",className:"w-full bg-gray-50 border border-black/5 rounded-2xl py-4 pl-14 pr-6 outline-none focus:ring-2 focus:ring-amber-200 transition-all text-sm",value:v.name,onChange:e=>{e.target.value.length>50||w({...v,name:e.target.value})}})]}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)(aS,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),(0,A.jsx)("input",{required:!0,type:"email",placeholder:"Work Email",className:"w-full bg-gray-50 border border-black/5 rounded-2xl py-4 pl-14 pr-6 outline-none focus:ring-2 focus:ring-amber-200 transition-all text-sm",value:v.email,onChange:e=>{e.target.value.length>50||w({...v,email:e.target.value})}})]}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)(hv,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),(0,A.jsx)("input",{type:"tel",placeholder:"Contact Number",className:"w-full bg-gray-50 border border-black/5 rounded-2xl py-4 pl-14 pr-6 outline-none focus:ring-2 focus:ring-amber-200 transition-all text-sm",value:v.contact_number,onChange:e=>{let t=e.target.value;""!=t&&(t[t.length-1]<"0"||t[t.length-1]>"9")||t.length>20||w({...v,contact_number:t})}})]}),(0,A.jsx)("button",{disabled:_,className:"w-full bg-[#2D2A26] text-white py-5 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-black transition-all active:scale-95 disabled:opacity-50 mt-6",children:_?(0,A.jsx)(hy,{className:"w-5 h-5 animate-spin"}):(0,A.jsxs)(A.Fragment,{children:["Secure Spot ",(0,A.jsx)(aw,{className:"w-5 h-5"})]})})]})]})}),m[14]=v,m[15]=S,m[16]=b,m[17]=_,m[18]=y,m[19]=d):d=m[19],m[20]!==c||m[21]!==d?(f=(0,A.jsxs)(n$.div,{initial:o,animate:l,exit:h,className:"relative w-full max-w-lg bg-white rounded-[3rem] shadow-2xl overflow-hidden border border-black/5",children:[c,d]}),m[20]=c,m[21]=d,m[22]=f):f=m[22],m[23]!==f||m[24]!==a?(p=(0,A.jsx)(ac,{children:(0,A.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a,f]})}),m[23]=f,m[24]=a,m[25]=p):p=m[25],p):null};function hk(){return window.scrollTo({top:0,behavior:"smooth"})}function hS(e,t){return(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsxs)("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider",children:[(0,A.jsx)("span",{className:"text-white/60",children:e.label}),(0,A.jsxs)("span",{className:"text-white",children:[e.value,"%"]})]}),(0,A.jsx)("div",{className:"h-2.5 bg-white/5 rounded-full overflow-hidden",children:(0,A.jsx)(n$.div,{initial:{width:0},whileInView:{width:`${e.value}%`},transition:{duration:1,delay:.2*t},className:"h-full rounded-full",style:{backgroundColor:e.color}})})]},t)}function hE(e,t){return(0,A.jsxs)(n$.div,{whileHover:{y:-12},className:"group p-12 bg-white rounded-[3rem] border border-black/[0.03] shadow-sm hover:shadow-2xl hover:border-amber-100 transition-all duration-500",children:[(0,A.jsx)("div",{className:`w-16 h-16 ${e.accent} rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform duration-500`,children:(0,A.jsx)(e.icon,{className:"w-8 h-8"})}),(0,A.jsx)("h3",{className:"text-2xl font-bold mb-4",children:e.title}),(0,A.jsx)("p",{className:"text-gray-400 leading-relaxed font-light",children:e.desc})]},t)}function hT(e,t){return(0,A.jsxs)("div",{className:"relative group",children:[(0,A.jsx)("div",{className:"text-[8rem] font-serif absolute -top-16 -left-4 text-black/[0.02] pointer-events-none select-none group-hover:text-amber-500/5 transition-colors",children:e.step}),(0,A.jsxs)("div",{className:"relative pt-8",children:[(0,A.jsxs)("h4",{className:"text-xl font-bold mb-4 flex items-center gap-3",children:[(0,A.jsx)("span",{className:"w-6 h-px bg-[#F59E0B]"}),e.title]}),(0,A.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed",children:e.desc})]})]},t)}e.s(["default",0,()=>{let e,t,r,s,i,n,a,o,l,h,u,c,d,f,p,m,g,y,v,w,b,x,_,k,S,E,T,j,O,C,I,N,$,D,B,M,U,L,V,F,W,q,z,K,H,G,J,Y,X,Z,Q,ee,et,er,es,ei,en,ea,eo,el,eh=(0,P.c)(66),{scrollYProgress:eu}=function({container:e,target:t,...r}={}){let s=rf(n4),i=(0,R.useRef)(null),n=(0,R.useRef)(!1),a=(0,R.useCallback)(()=>(i.current=function(e,{axis:t="y",container:r=document.scrollingElement,...s}={}){var i,n;let a;if(!r)return eR;let o={axis:t,container:r,...s};return"function"==typeof e?(i=e,n=o,2===i.length?n2(e=>{i(e[n.axis].progress,e)},n):nD(i,n3(n))):(a=n3(o),e.attachTimeline({timeline:o.target?void 0:a,observe:e=>(e.pause(),nD(t=>{e.time=e.iterationDuration*t},a))}))}((e,{x:t,y:r})=>{s.scrollX.set(t.current),s.scrollXProgress.set(t.progress),s.scrollY.set(r.current),s.scrollYProgress.set(r.progress)},{...r,container:e?.current||void 0,target:t?.current||void 0}),()=>{i.current?.()}),[e,t,JSON.stringify(r.offset)]);return r_(()=>{if(n.current=!1,!(n6(e)||n6(t)))return a();n.current=!0},[a]),(0,R.useEffect)(()=>n.current?(eS(!n6(e),"Container ref is defined but not hydrated","use-scroll-ref"),eS(!n6(t),"Target ref is defined but not hydrated","use-scroll-ref"),a()):void 0,[a]),s}();eh[0]===Symbol.for("react.memo_cache_sentinel")?(e=[0,.2],t=[1,0],eh[0]=e,eh[1]=t):(e=eh[0],t=eh[1]);let ec=n7(eu,e,t);eh[2]===Symbol.for("react.memo_cache_sentinel")?(r=[0,.2],s=[1,.95],eh[2]=r,eh[3]=s):(r=eh[2],s=eh[3]);let ed=n7(eu,r,s),[ef,ep]=(0,R.useState)(!1);return eh[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,A.jsx)(ad,{}),n=(0,A.jsx)(af,{}),eh[4]=i,eh[5]=n):(i=eh[4],n=eh[5]),eh[6]===Symbol.for("react.memo_cache_sentinel")?(a=()=>ep(!1),eh[6]=a):a=eh[6],eh[7]!==ef?(o=(0,A.jsx)(h_,{isOpen:ef,onClose:a}),eh[7]=ef,eh[8]=o):o=eh[8],eh[9]===Symbol.for("react.memo_cache_sentinel")?(l={rotate:90},eh[9]=l):l=eh[9],eh[10]===Symbol.for("react.memo_cache_sentinel")?(h=(0,A.jsx)(n$.div,{whileHover:l,className:"w-10 h-10 bg-[#F59E0B] rounded-2xl flex items-center justify-center transform transition-all duration-500 shadow-lg shadow-amber-200",children:(0,A.jsx)("div",{className:"w-4 h-4 bg-white rounded-sm rotate-45"})}),eh[10]=h):h=eh[10],eh[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,A.jsxs)("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:hk,children:[h,(0,A.jsxs)("span",{className:"text-2xl font-bold tracking-tight",children:["buttr",(0,A.jsx)("span",{className:"text-[#F59E0B]",children:".io"})]})]}),eh[11]=u):u=eh[11],eh[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,A.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-6 md:px-12 py-8 bg-[#FFFDF5]/80 backdrop-blur-md border-b border-black/[0.02]",children:[u,(0,A.jsxs)("div",{className:"hidden md:flex gap-10 text-xs font-extrabold uppercase tracking-widest text-gray-400",children:[(0,A.jsx)("a",{href:"#problem",className:"hover:text-black transition-colors",children:"The Shift"}),(0,A.jsx)("a",{href:"#features",className:"hover:text-black transition-colors",children:"Intelligence"}),(0,A.jsx)("a",{href:"#how-it-works",className:"hover:text-black transition-colors",children:"Workflow"})]}),(0,A.jsx)("button",{onClick:()=>ep(!0),className:"bg-[#2D2A26] text-white border border-black/5 px-8 py-3 rounded-full text-xs font-extrabold uppercase tracking-widest shadow-sm hover:shadow-xl hover:-translate-y-0.5 transition-all active:scale-95",children:"Get Early Access"})]}),eh[12]=c):c=eh[12],eh[13]!==ec||eh[14]!==ed?(d={opacity:ec,scale:ed},eh[13]=ec,eh[14]=ed,eh[15]=d):d=eh[15],eh[16]===Symbol.for("react.memo_cache_sentinel")?(f={opacity:0,y:20},p={opacity:1,y:0},eh[16]=f,eh[17]=p):(f=eh[16],p=eh[17]),eh[18]===Symbol.for("react.memo_cache_sentinel")?(m=(0,A.jsxs)(n$.div,{initial:f,animate:p,className:"inline-flex items-center gap-2 px-5 py-2 bg-white rounded-full mb-10 shadow-sm border border-black/5",children:[(0,A.jsx)(aT,{className:"w-4 h-4 text-[#F59E0B]"}),(0,A.jsx)("span",{className:"text-[10px] font-extrabold uppercase tracking-[0.2em] text-gray-500",children:"Smooth Market Intelligence for the LLM Era"})]}),eh[18]=m):m=eh[18],eh[19]===Symbol.for("react.memo_cache_sentinel")?(g=(0,A.jsxs)("h1",{className:"text-6xl md:text-[8rem] font-serif leading-[0.85] mb-10 italic",children:["Your brand, ",(0,A.jsx)("br",{}),(0,A.jsx)(aj,{text:"Decoded by AI."})]}),y=(0,A.jsx)("p",{className:"text-lg md:text-2xl text-gray-500 max-w-3xl mx-auto mb-14 font-light leading-relaxed",children:"Understand how Large Language Models like ChatGPT, Gemini, and Claude perceive, rank, and describe your brand. Track visibility, sentiment, and share of AI mind."}),v=()=>ep(!0),eh[19]=g,eh[20]=y,eh[21]=v):(g=eh[19],y=eh[20],v=eh[21]),eh[22]===Symbol.for("react.memo_cache_sentinel")?(w=(0,A.jsxs)("button",{onClick:v,className:"bg-[#2D2A26] text-white px-12 py-6 rounded-full font-bold text-lg flex items-center justify-center gap-3 hover:bg-black transition-all active:scale-95 shadow-2xl hover:shadow-amber-200/50 mx-auto group",children:["Join the Waitlist ",(0,A.jsx)(aw,{className:"w-6 h-6 group-hover:translate-x-2 transition-transform"})]}),eh[22]=w):w=eh[22],eh[23]===Symbol.for("react.memo_cache_sentinel")?(b=(0,A.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,A.jsx)("span",{className:"text-black",children:"GPT-4o"}),(0,A.jsx)("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),eh[23]=b):b=eh[23],eh[24]===Symbol.for("react.memo_cache_sentinel")?(x=(0,A.jsx)("span",{className:"text-black",children:"Claude 3.5"}),eh[24]=x):x=eh[24],eh[25]===Symbol.for("react.memo_cache_sentinel")?(_=(0,A.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[x,(0,A.jsx)("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]}),eh[25]=_):_=eh[25],eh[26]===Symbol.for("react.memo_cache_sentinel")?(k=(0,A.jsx)("span",{className:"text-black",children:"Gemini 2.0"}),eh[26]=k):k=eh[26],eh[27]===Symbol.for("react.memo_cache_sentinel")?(S=(0,A.jsxs)("div",{className:"mt-12 flex items-center justify-center gap-8 text-[10px] font-bold uppercase tracking-[0.3em] text-gray-400",children:[b,_,(0,A.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[k,(0,A.jsx)("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]}),eh[27]=S):S=eh[27],eh[28]!==d?(E=(0,A.jsx)("header",{className:"relative min-h-[100vh] flex flex-col items-center justify-center px-4 pt-20",children:(0,A.jsxs)(n$.div,{style:d,className:"max-w-5xl w-full text-center z-10",children:[m,g,y,w,S]})}),eh[28]=d,eh[29]=E):E=eh[29],eh[30]===Symbol.for("react.memo_cache_sentinel")?(T=(0,A.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#F59E0B] rounded-full blur-[150px] opacity-10 pointer-events-none"}),eh[30]=T):T=eh[30],eh[31]===Symbol.for("react.memo_cache_sentinel")?(j=(0,A.jsx)("span",{className:"text-[#F59E0B] font-bold tracking-widest uppercase text-xs mb-6 block",children:"The Market Shift"}),eh[31]=j):j=eh[31],eh[32]===Symbol.for("react.memo_cache_sentinel")?(O=(0,A.jsxs)("h2",{className:"text-5xl md:text-7xl font-serif leading-tight italic mb-8",children:["Discovery isn't search. ",(0,A.jsx)("br",{}),(0,A.jsx)("span",{className:"text-white/40",children:"It's a conversation."})]}),C=(0,A.jsx)("p",{className:"text-xl text-white/60 leading-relaxed font-light mb-10",children:"Customers no longer just search; they ask. Buttr.io tracks how your brand appears in AI-generated answers. Think of it as your marketing teams visibility radar."}),eh[32]=O,eh[33]=C):(O=eh[32],C=eh[33]),eh[34]===Symbol.for("react.memo_cache_sentinel")?(I=(0,A.jsx)("div",{className:"text-5xl font-serif text-[#F59E0B] mb-2",children:"73%"}),eh[34]=I):I=eh[34],eh[35]===Symbol.for("react.memo_cache_sentinel")?(N=(0,A.jsxs)("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/5",children:[I,(0,A.jsxs)("div",{className:"text-[10px] uppercase tracking-widest text-white/40 font-bold",children:["Consumers discovering ",(0,A.jsx)("br",{}),"brands via LLMs"]})]}),eh[35]=N):N=eh[35],eh[36]===Symbol.for("react.memo_cache_sentinel")?($=(0,A.jsx)("div",{className:"text-5xl font-serif text-[#F59E0B] mb-2",children:"Instant"}),eh[36]=$):$=eh[36],eh[37]===Symbol.for("react.memo_cache_sentinel")?(D=(0,A.jsxs)("div",{children:[j,O,C,(0,A.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[N,(0,A.jsxs)("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/5",children:[$,(0,A.jsxs)("div",{className:"text-[10px] uppercase tracking-widest text-white/40 font-bold",children:["Latency in market ",(0,A.jsx)("br",{}),"data extraction"]})]})]})]}),eh[37]=D):D=eh[37],eh[38]===Symbol.for("react.memo_cache_sentinel")?(B={rotate:-5,y:50,opacity:0},M={rotate:0,y:0,opacity:1},eh[38]=B,eh[39]=M):(B=eh[38],M=eh[39]),eh[40]===Symbol.for("react.memo_cache_sentinel")?(U=(0,A.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,A.jsxs)("div",{className:"flex items-center gap-4",children:[(0,A.jsx)("div",{className:"w-12 h-12 bg-amber-500 rounded-2xl flex items-center justify-center",children:(0,A.jsx)(ab,{className:"text-white w-6 h-6"})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{className:"font-bold text-lg",children:"LLM Visibility"}),(0,A.jsx)("div",{className:"text-[10px] uppercase tracking-widest text-white/30",children:"Real-time Mindshare"})]})]}),(0,A.jsx)("div",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-[10px] font-bold rounded-full border border-green-500/30",children:"Live Data"})]}),eh[40]=U):U=eh[40],eh[41]===Symbol.for("react.memo_cache_sentinel")?(L=(0,A.jsx)("div",{className:"space-y-6",children:[{label:"GPT Share of Voice",value:84,color:"#F59E0B"},{label:"Claude Sentiment",value:92,color:"#FBBF24"},{label:"Gemini Mention Rate",value:67,color:"#D97706"}].map(hS)}),eh[41]=L):L=eh[41],eh[42]===Symbol.for("react.memo_cache_sentinel")?(V=(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsx)("div",{className:"text-2xl font-serif text-[#F59E0B]",children:"4.8/5"}),(0,A.jsx)("div",{className:"text-[8px] uppercase tracking-widest text-white/30 font-bold",children:"Trust Index"})]}),eh[42]=V):V=eh[42],eh[43]===Symbol.for("react.memo_cache_sentinel")?(F=(0,A.jsxs)("section",{id:"problem",className:"py-32 px-6 md:px-12 bg-[#2D2A26] text-white rounded-[4rem] mx-4 md:mx-8 mb-32 overflow-hidden relative scroll-mt-24",children:[T,(0,A.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center",children:[D,(0,A.jsx)("div",{className:"relative",children:(0,A.jsxs)(n$.div,{initial:B,whileInView:M,className:"bg-white/5 backdrop-blur-xl border border-white/10 p-8 rounded-[3rem] shadow-2xl",children:[U,L,(0,A.jsxs)("div",{className:"mt-10 pt-8 border-t border-white/5 grid grid-cols-2 gap-4",children:[V,(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsx)("div",{className:"text-2xl font-serif text-[#F59E0B]",children:"+12%"}),(0,A.jsx)("div",{className:"text-[8px] uppercase tracking-widest text-white/30 font-bold",children:"MoM Growth"})]})]})]})})]})]}),eh[43]=F):F=eh[43],eh[44]===Symbol.for("react.memo_cache_sentinel")?(W=(0,A.jsxs)("div",{className:"text-center mb-24",children:[(0,A.jsx)("span",{className:"text-amber-600 font-extrabold tracking-widest uppercase text-xs mb-6 block",children:"Intelligence Suite"}),(0,A.jsx)("h2",{className:"text-5xl md:text-7xl font-serif italic mb-6",children:"Measurable AI Visibility."}),(0,A.jsx)("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:"Buttr.io gives you real-time insights into your brands standing in the world of AI-generated answers."})]}),eh[44]=W):W=eh[44],eh[45]===Symbol.for("react.memo_cache_sentinel")?(q=(0,A.jsxs)("section",{id:"features",className:"py-32 px-6 md:px-12 max-w-7xl mx-auto scroll-mt-24",children:[W,(0,A.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:ax,title:"OMPS Score",desc:"Our proprietary machine-learned KPI for overall brand perception health across all major LLMs.",accent:"bg-amber-100 text-amber-600"},{icon:aE,title:"Prompt Auditing",desc:"Test and version-control prompts to see how slight phrasing shifts change your brand profile.",accent:"bg-orange-100 text-orange-600"},{icon:ak,title:"Competitor Benchmarking",desc:"See who is leading your category in the AI search ecosystem with direct side-by-side metrics.",accent:"bg-yellow-100 text-yellow-600"}].map(hE)})]}),eh[45]=q):q=eh[45],eh[46]===Symbol.for("react.memo_cache_sentinel")?(z=(0,A.jsxs)("div",{className:"mb-20",children:[(0,A.jsx)("h2",{className:"text-4xl md:text-5xl font-serif italic mb-4",children:"The Churning Process"}),(0,A.jsx)("p",{className:"text-gray-400",children:"From raw LLM responses to structured market intelligence."})]}),eh[46]=z):z=eh[46],eh[47]===Symbol.for("react.memo_cache_sentinel")?(K=(0,A.jsx)("section",{id:"how-it-works",className:"py-32 px-6 md:px-12 bg-white/50 border-y border-black/5 scroll-mt-24",children:(0,A.jsxs)("div",{className:"max-w-7xl mx-auto",children:[z,(0,A.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[{step:"01",title:"Simulation",desc:"We query 10+ LLMs with thousands of brand-specific prompts."},{step:"02",title:"Parsing",desc:"Outputs are structured and sentiment-analyzed by our agents."},{step:"03",title:"Scoring",desc:"Data is normalized into your custom OMPS brand health score."},{step:"04",title:"Action",desc:"Visual dashboards deliver actionable campaign attribution."}].map(hT)})]})}),eh[47]=K):K=eh[47],eh[48]===Symbol.for("react.memo_cache_sentinel")?(H=(0,A.jsx)("div",{className:"absolute inset-0 bg-radial-gradient from-amber-100/30 to-transparent opacity-60 pointer-events-none"}),eh[48]=H):H=eh[48],eh[49]===Symbol.for("react.memo_cache_sentinel")?(G={opacity:0,scale:.9},J={opacity:1,scale:1},eh[49]=G,eh[50]=J):(G=eh[49],J=eh[50]),eh[51]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,A.jsx)(n$.div,{initial:G,whileInView:J,className:"mb-10 inline-block p-4 bg-white rounded-3xl shadow-xl border border-black/5",children:(0,A.jsx)(aT,{className:"w-8 h-8 text-[#F59E0B]"})}),eh[51]=Y):Y=eh[51],eh[52]===Symbol.for("react.memo_cache_sentinel")?(X=(0,A.jsxs)("h2",{className:"text-5xl md:text-[6rem] font-serif italic mb-10 leading-[0.9]",children:["Ready to decode ",(0,A.jsx)("br",{}),"your visibility?"]}),Z=(0,A.jsx)("p",{className:"text-xl text-gray-500 mb-16 max-w-xl mx-auto leading-relaxed font-light",children:"Join the elite marketing teams already tracking their brand health in the age of AI search."}),Q=()=>ep(!0),eh[52]=X,eh[53]=Z,eh[54]=Q):(X=eh[52],Z=eh[53],Q=eh[54]),eh[55]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,A.jsxs)("section",{className:"py-48 px-6 md:px-12 text-center bg-[#FFFDF5] relative overflow-hidden",children:[H,(0,A.jsxs)("div",{className:"max-w-4xl mx-auto relative z-10",children:[Y,X,Z,(0,A.jsxs)("button",{onClick:Q,className:"bg-[#2D2A26] text-white px-10 py-5 rounded-full font-bold flex items-center justify-center gap-2 hover:bg-black transition-all active:scale-95 shadow-xl hover:shadow-amber-200/50 mx-auto",children:["Claim Audit Spot ",(0,A.jsx)(aw,{className:"w-5 h-5"})]})]})]}),eh[55]=ee):ee=eh[55],eh[56]===Symbol.for("react.memo_cache_sentinel")?(et=(0,A.jsxs)("div",{className:"flex flex-col items-center md:items-start gap-4",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("div",{className:"w-8 h-8 bg-[#F59E0B] rounded-xl flex items-center justify-center shadow-lg shadow-amber-200",children:(0,A.jsx)("div",{className:"w-3 h-3 bg-white rounded-sm rotate-45"})}),(0,A.jsx)("span",{className:"font-bold text-xl tracking-tighter",children:"buttr.io"})]}),(0,A.jsx)("p",{className:"text-gray-400 text-sm max-w-xs text-center md:text-left",children:"The world's first market intelligence platform built specifically for the age of conversational search."})]}),eh[56]=et):et=eh[56],eh[57]===Symbol.for("react.memo_cache_sentinel")?(er=(0,A.jsxs)("a",{href:"mailto:contact@buttr.io",className:"flex items-center gap-2 hover:text-amber-500 transition-colors",children:[(0,A.jsx)(aS,{className:"w-3 h-3"})," Contact Us"]}),es=(0,A.jsx)("a",{href:"#",className:"hover:text-amber-500 transition-colors",children:"Twitter"}),ei=(0,A.jsx)("a",{href:"#",className:"hover:text-amber-500 transition-colors",children:"LinkedIn"}),eh[57]=er,eh[58]=es,eh[59]=ei):(er=eh[57],es=eh[58],ei=eh[59]),eh[60]===Symbol.for("react.memo_cache_sentinel")?(en=(0,A.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-12 mb-20",children:[et,(0,A.jsxs)("div",{className:"flex flex-wrap justify-center gap-10 text-[10px] font-extrabold uppercase tracking-[0.2em] text-gray-400",children:[er,es,ei,(0,A.jsxs)("a",{href:"#",className:"hover:text-amber-500 transition-colors flex items-center gap-1",children:["API Docs ",(0,A.jsx)(a_,{className:"w-2.5 h-2.5"})]})]})]}),eh[60]=en):en=eh[60],eh[61]===Symbol.for("react.memo_cache_sentinel")?(ea=(0,A.jsx)("p",{className:"text-[10px] font-bold text-gray-300 uppercase tracking-widest",children:" 2025 Buttr Platforms Inc. "}),eh[61]=ea):ea=eh[61],eh[62]===Symbol.for("react.memo_cache_sentinel")?(eo=(0,A.jsx)("footer",{className:"py-20 px-6 md:px-12 bg-white border-t border-black/[0.03]",children:(0,A.jsxs)("div",{className:"max-w-7xl mx-auto",children:[en,(0,A.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center border-t border-black/[0.03] pt-10 gap-6",children:[ea,(0,A.jsxs)("div",{className:"flex gap-8 text-[9px] font-bold text-gray-300 uppercase tracking-widest",children:[(0,A.jsx)("a",{href:"#",className:"hover:text-black",children:"Privacy Policy"}),(0,A.jsx)("a",{href:"#",className:"hover:text-black",children:"Terms of Service"}),(0,A.jsx)("a",{href:"#",className:"hover:text-black",children:"Status"})]})]})]})}),eh[62]=eo):eo=eh[62],eh[63]!==E||eh[64]!==o?(el=(0,A.jsxs)("div",{className:"relative min-h-screen text-[#2D2A26] selection:bg-[#F59E0B] selection:text-white overflow-x-hidden bg-[#FFFDF5]",children:[i,n,o,c,E,F,q,K,ee,eo]}),eh[63]=E,eh[64]=o,eh[65]=el):el=eh[65],el}],6695)}]);